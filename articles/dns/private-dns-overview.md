---
title: プライベート ドメインに Azure DNS を使用する | Microsoft Docs
description: Microsoft Azure のプライベート DNS ホスティング サービスの概要。
services: dns
documentationcenter: na
author: vhorne
manager: jeconnoc
editor: ''
ms.assetid: ''
ms.service: dns
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/15/2018
ms.author: victorh
ms.openlocfilehash: 2ab7070a4cf46dae543af8d3e1d688e12ec1eb2a
ms.sourcegitcommit: 4e5ac8a7fc5c17af68372f4597573210867d05df
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/20/2018
ms.locfileid: "39173644"
---
# <a name="use-azure-dns-for-private-domains"></a>プライベート ドメインに Azure DNS を使用する
ドメイン ネーム システム (DNS) は、サービスの名前をその IP アドレスに変換する (または解決する) 役割を担います。 DNS ドメインのホスティング サービスである Azure DNS は、Microsoft Azure インフラストラクチャを使用した名前解決を提供します。 Azure DNS では、インターネットに接続する DNS ドメインだけでなく、プライベート DNS ドメインもプレビュー機能としてサポートするようになりました。 
 
Azure DNS は、信頼性が高くセキュリティで保護された DNS サービスを提供し、カスタムの DNS ソリューションを追加する必要なしで、仮想ネットワークでドメイン名を管理および解決します。 プライベート DNS ゾーンを使用すると、現在利用可能な Azure で提供される名前ではなく、独自のカスタム ドメイン名を使用できます。 カスタム ドメイン名の使用は、組織のニーズに最適な仮想ネットワーク アーキテクチャを調整するのに役立ちます。 仮想ネットワーク内、および仮想ネットワーク間の、仮想マシン (VM) の名前解決を提供します。 さらに、水平分割ビューでゾーン名を構成できるので、プライベート DNS ゾーンとパブリック DNS ゾーンで同じ名前を共有することもできます。

![DNS の概要](./media/private-dns-overview/scenario.png)

[!INCLUDE [private-dns-public-preview-notice](../../includes/private-dns-public-preview-notice.md)]

## <a name="benefits"></a>メリット

Azure DNS には次のような利点があります。

* **カスタムの DNS ソリューションの必要がなくなります**。 以前は、多くのお客様は、仮想ネットワーク内の DNS ゾーンを管理するためにカスタムの DNS ソリューションを作成していました。 DNS ゾーンの管理は、Azure のネイティブ インフラストラクチャを使用してできるようになりました。これにより、カスタムの DNS ソリューションの作成と管理の負担がなくなります。

* **すべての一般的な DNS レコードの種類を使用します**。 Azure DNS では、A、AAAA、CNAME、MX、NS、PTR、SOA、SRV、TXT のレコードをサポートしています。

* **自動のホスト名レコード管理**。 Azure では、カスタムの DNS レコードをホストすると共に、指定された仮想ネットワーク内の VM のホスト名レコードを自動的に維持します。 このシナリオにより、カスタムの DNS ソリューションの作成またはアプリケーションの変更の必要なしで、使用するドメイン名を最適化することができます。

* **仮想ネットワーク間のホスト名解決**。 Azure 提供のホスト名とは異なり、プライベート DNS ゾーンは仮想ネットワーク間で共有できます。 この機能により、仮想ネットワークのピアリングなどのネットワーク間とサービス検索のシナリオが簡略化されます。

* **使い慣れたツールとユーザー エクスペリエンス**。 習得に要する時間を短縮するため、この新しい機能では既に確立された Azure DNS ツール (PowerShell、Azure Resource Manager テンプレート、REST API) が使われています。

* **水平分割 DNS サポート**。 Azure DNS では、同じ名前でゾーンを作成し、それが仮想ネットワーク内からとパブリック インターネットからとで異なる回答に解決されるようにすることができます。 水平分割 DNS の一般的なシナリオでは、仮想ネットワーク内で使用する専用のバージョンのサービスを提供します。

* **すべての Azure リージョンで使用可能**。 Azure DNS Private Zones の機能は Azure パブリック クラウドの全リージョンでご利用いただけます。 


## <a name="capabilities"></a>機能

Azure DNS には次の機能があります。
 
* **登録仮想ネットワークとしてプライベート ゾーンにリンクされている単一の仮想ネットワークからの仮想マシンの自動登録**。 仮想マシンは、各自のプライベート IP を指す A レコードとしてプライベート ゾーンに登録 (追加) されます。 登録仮想ネットワーク内の仮想マシンが削除されると、Azure によって、リンクされたプライベート ゾーンから対応する DNS レコードの削除も自動的に実行されます。 

  > [!NOTE]
  > 既定では、登録仮想ネットワークは、ゾーンに対する DNS 解決が登録仮想ネットワーク内の任意の仮想マシンから機能するという意味で、解決仮想ネットワークとしても機能します。 

* **正引き DNS 解決は、解決仮想ネットワークとしてプライベート ゾーンにリンクされている仮想ネットワーク間でサポートされています**。 仮想ネットワーク間の DNS 解決では、仮想ネットワークが相互にピアリングするという明示的な依存関係はありません。 ただし、他のシナリオ (HTTP トラフィックなど) では、ピア仮想ネットワークを作成できます。

* **逆引き DNS 参照は仮想ネットワークのスコープ内でサポートされています**。 プライベート ゾーンに割り当てられた仮想ネットワーク内のプライベート IP の逆引き DNS 参照では、ホスト/レコード名だけでなく、サフィックスとしてゾーン名を含む FQDN が返されます。 


## <a name="limitations"></a>制限事項

Azure DNS には、次の制限事項が適用されます。

* プライベート ゾーンにつき 1 つの登録仮想ネットワークのみが使用可能です。
* プライベート ゾーンにつき最大で 10 の解決仮想ネットワークが使用可能です。
* 特定の仮想ネットワークは、登録仮想ネットワークとして 1 つのプライベート ゾーンにのみリンク可能です。
* 特定の仮想ネットワークは、解決仮想ネットワークとして最大で 10 のプライベート ゾーンにリンク可能です。
* 登録仮想ネットワークが指定された場合、プライベート ゾーンに登録されているその仮想ネットワーク内の VM の DNS レコードは Azure Powershell と Azure CLI API から表示することも取得することもできませんが、VM レコードは登録が行われ、問題なく解決されます。
* 逆引き DNS は登録仮想ネットワーク内のプライベート IP 空間に対してのみ機能します。
* プライベート ゾーンに登録されていないプライベート IP (例: プライベート ゾーンに解決仮想ネットワークとしてリンクされている仮想ネットワーク内の仮想マシンのプライベート IP) の逆引き DNS では、DNS サフィックスとして *internal.cloudapp.net* を返しますが、 このサフィックスは解決できません。 
* 仮想ネットワークは、プライベート ゾーンに登録または解決仮想ネットワークとして初めてリンクされる時点では、空の (VM レコードがない) 状態である必要があります。 ただし、その他のプライベート ゾーンに登録または解決仮想ネットワークとしてさらにリンクする場合、仮想ネットワークは空でなくてもかまいません。 
* 現時点では、条件付きの転送 (例: Azure とオンプレミス ネットワーク間の解決を有効にする) はサポートされていません。 他のメカニズムを介してこのシナリオを実現する方法については、「[VM とロール インスタンスの名前解決](../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md)」を参照してください。

Azure DNS のプライベート ゾーンに関する一般的な質問と回答については、[FAQ](./dns-faq.md#private-dns) を参照してください。特定の種類の操作で期待できる DNS の登録と解決の動作に関する具体的な説明も含まれています。  


## <a name="pricing"></a>価格

プライベート DNS ゾーンの機能は、パブリック プレビュー期間中は無料です。 一般提供期間中、この機能は既存の Azure DNS オファリングに類似した、使用に基づく料金モデルを提供します。 


## <a name="next-steps"></a>次の手順

[Azure PowerShell](./private-dns-getstarted-powershell.md) または [Azure CLI](./private-dns-getstarted-cli.md) を使用して Azure DNS のプライベート ゾーンを作成する方法を確認します。

[プライベート ゾーンのシナリオ](./private-dns-scenarios.md)に関しては、Azure DNS のプライベート ゾーンで実現できるいくつかの一般的なシナリオを参照してください。

Azure DNS のプライベート ゾーンに関する一般的な質問と回答については、[FAQ](./dns-faq.md#private-dns) を参照してください。特定の種類の操作で期待できる動作も具体的に説明されています。 

「[DNS ゾーンとレコードの概要](dns-zones-records.md)」で DNS ゾーンとレコードについて学びます。

Azure のその他の重要な[ネットワーク機能](../networking/networking-overview.md)について参照してください。 

