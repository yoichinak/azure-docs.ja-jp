---
title: Azure Database for PostgreSQL の価格レベル
description: この記事では、Azure Database for PostgreSQL の価格レベルについて説明します。
services: postgresql
author: jan-eng
ms.author: janeng
manager: kfile
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 07/21/2018
ms.openlocfilehash: 7494f139f824d3794fced3a0eb4f8d676f3961f5
ms.sourcegitcommit: 4e5ac8a7fc5c17af68372f4597573210867d05df
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/20/2018
ms.locfileid: "39173709"
---
# <a name="azure-database-for-postgresql-pricing-tiers"></a>Azure Database for PostgreSQL の価格レベル

Azure Database for PostgreSQL サーバーは、Basic、汎用、およびメモリ最適化の 3 つの価格レベルのいずれかで作成できます。 価格レベルは、プロビジョニングできる仮想コアでのコンピューティング量、仮想コアあたりのメモリ、およびデータの格納に使用されるストレージ テクノロジによって区別されています。 リソースはすべて、PostgreSQL サーバー レベルでプロビジョニングされます。 1 つのサーバーには 1 つ以上のデータベースを含めることができます。

|    | **Basic** | **汎用** | **メモリ最適化** |
|:---|:----------|:--------------------|:---------------------|
| コンピューティング世代 | Gen 4、Gen 5 | Gen 4、Gen 5 | Gen 5 |
| 仮想コア | 1、2 | 2、4、8、16、32 |2、4、8、16 |
| 仮想コアあたりのメモリ | 2 GB | 5 GB | 10 GB |
| ストレージ サイズ | 5 GB ～ 1 TB | 5 GB ～ 4 TB | 5 GB ～ 4 TB |
| ストレージの種類 | Azure Standard Storage | Azure Premium Storage | Azure Premium Storage |
| データベース バックアップのリテンション期間 | 7 ～ 35 日間 | 7 ～ 35 日間 | 7 ～ 35 日間 |

価格レベルを選択する場合は、まず次の表を参考にしてください。

| 価格レベル | 対象のワークロード |
|:-------------|:-----------------|
| Basic | 低負荷なコンピューティングと I/O パフォーマンスを必要とするワークロード。 たとえば、開発やテスト、使用頻度の低い小規模なアプリケーションに使用するサーバーがこれに該当します。 |
| 汎用 | 負荷分散されたコンピューティングとメモリ、およびスケーラブルな I/O スループットを必要とする大部分のビジネス ワークロード。 たとえば、Web アプリやモバイル アプリ、その他のエンタープライズ アプリケーションをホストするためのサーバーが挙げられます。|
| メモリ最適化 | 高速トランザクション処理と高い同時実行性を実現するためのインメモリ パフォーマンスを必要とする、高パフォーマンス データベース ワークロード。 たとえば、リアルタイム データと高パフォーマンスなトランザクション アプリや分析アプリを処理するためのサーバーが挙げられます。|

サーバーを作成したら、仮想コア数、ハードウェアの世代、および価格レベル (Basic への変更と Basic からの変更を除く) を数秒で増やしたり減らしたりできます。 また、アプリケーションのダウンタイムなしでストレージ (増量のみ) とバックアップのリテンション期間 (増減) を個別に調整できます。 バックアップ ストレージの種類は、サーバーの作成後に変更することはできません。 詳細については、「[リソースのスケール](#scale-resources)」セクションを参照してください。


## <a name="compute-generations-and-vcores"></a>コンピューティング世代と仮想コア

コンピューティング リソースは仮想コアとして提供されます。仮想コアは、基礎となるハードウェアの論理 CPU を表します。 現在、Gen 4 と Gen 5 の 2 つの計算世代から選択できます。 Gen 4 論理 CPU は、Intel E5-2673 v3 (Haswell) 2.4 GHz のプロセッサを基盤とします。 Gen 5 論理 CPU は、Intel E5-2673 v4 (Broadwell) 2.3 GHz のプロセッサを基盤とします。 Gen 4 と Gen 5 は、次のリージョンで使用できます ("○" は使用可能であることを表します)。 

| **Azure のリージョン** | **Gen 4** | **Gen 5** |
|:---|:----------:|:--------------------:|
| 米国中央部 | ○ |  |
| 米国東部 | ○ | ○ |
| 米国東部 2 | ○ | ○ |
| 米国中北部 | ○ | ○ |
| 米国中南部 | ○ | ○ |
| 米国西部 | ○ | ○ |
| 米国西部 2 |  | ○ |
| カナダ中部 | ○ | ○ |
| カナダ東部 | ○ | ○ |
| ブラジル南部 | ○ | ○ |
| 北ヨーロッパ | ○ | ○ |
| 西ヨーロッパ |  | ○ |
| フランス中部 |  | ○ |
| 英国西部 |  | ○ |
| 英国南部 |  | ○ |
| 東アジア | ○ | ○ |
| 東南アジア | ○ | ○ |
| オーストラリア東部 |  | ○ |
| オーストラリア中部 |  | ○ |
| オーストラリア中部 2 |  | ○ |
| オーストラリア南東部 |  | ○ |
| インド中部 | ○ | ○ |
| インド西部 | ○ | ○ |
| インド南部 |  | ○ |
| 東日本 | ○ | ○ |
| 西日本 | ○ | ○ |
| 韓国中部 |  | ○ |
| 韓国南部 |  | ○ |

## <a name="storage"></a>ストレージ

プロビジョニングするストレージは、使用している Azure Database for PostgreSQL サーバーで使用可能なストレージ容量です。 ストレージは、データベース ファイル、一時ファイル、トランザクション ログ、および PostgreSQL サーバー ログに使用されます。 プロビジョニングするストレージの合計容量によって、ご利用のサーバーで使用できる I/O 容量も決まります。

|    | **Basic** | **汎用** | **メモリ最適化** |
|:---|:----------|:--------------------|:---------------------|
| ストレージの種類 | Azure Standard Storage | Azure Premium Storage | Azure Premium Storage |
| ストレージ サイズ | 5 GB ～ 1 TB | 5 GB ～ 4 TB | 5 GB ～ 4 TB |
| ストレージの増分サイズ | 1 GB | 1 GB | 1 GB |
| IOPS | 可変 |3 IOPS/GB<br/>最小 100 IOPS<br/>最大 6000 IOPS | 3 IOPS/GB<br/>最小 100 IOPS<br/>最大 6000 IOPS |

サーバーの作成中および作成後に、ストレージ容量を追加できます。 Basic レベルでは、IOPS 保証は提供されません。 汎用およびメモリ最適化の価格レベルでは、IOPS は、プロビジョニング済みのストレージ サイズに合わせて 3 対 1 の比率でスケーリングされます。

ご自身の I/O 使用量を監視するには、Azure Portal または Azure CLI コマンドを使用します。 監視すべき関連メトリックは、[容量の上限、ストレージの割合、ストレージの使用量、および IO の割合](concepts-monitoring.md)です。

### <a name="reaching-the-storage-limit"></a>容量の上限に到達

サーバーは、ストレージの空き容量が 5 GB 未満またはプロビジョニングされたストレージの 5% 未満のどちらか少ない方に達すると、読み取り専用としてマークされます。 たとえば、100 GB のストレージをプロビジョニングした場合に、実際の使用量が 95 GB を超えると、サーバーは読み取り専用としてマークされます。 または、5 GB のストレージをプロビジョニングした場合、ストレージの空き容量が 250 MB 未満になるとサーバーは読み取り専用としてマークされます。  

サーバーが読み取り専用に設定されると、既存のすべてのセッションが切断され、コミットされていないトランザクションがロールバックされます。 後続の書き込み操作とトランザクションのコミットは失敗します。 後続のすべての読み取りクエリは、中断せずに作業を続行します。  

サーバーにプロビジョニングされたストレージの量を増やすか、読み取り/書き込みモードで新しいセッションを開始し、データを削除して空きストレージを回収できます。 `SET SESSION CHARACTERISTICS AS TRANSACTION READ WRITE;` を実行すると、現在のセッションが読み取り/書き込みモードに設定されます。 データの破損を回避するために、サーバーがまだ読み取り専用の状態のときに書き込み操作を実行しないでください。

サーバーのストレージがしきい値に近づいたときに、それを通知するアラートを設定しておくことで、読み取り専用状態に入るのを防ぐことをお勧めします。 詳細については、[アラートの設定方法](howto-alert-on-metric.md)に関するドキュメントをご覧ください。

## <a name="backup"></a>Backup

サービスによって、サーバーのバックアップが自動的に取得されます。 バックアップの最小リテンション期間は 7 日です。 最大 35 日のリテンション期間を設定できます。 リテンション期間は、サーバーの有効期間中、任意の時点で調整できます。 ローカル冗長バックアップまたは geo 冗長バックアップのいずれかを選択することができます。 geo 冗長バックアップは、ご利用のサーバーが作成されたリージョンの [geo ペア リージョン](https://docs.microsoft.com/azure/best-practices-availability-paired-regions)内にも保存されます。 この冗長性により、障害発生時に保護が提供されます。 また、geo 冗長バックアップで使用できるサービスが提供されている他の Azure リージョンに、サーバーを復元できるようになります。 サーバーを作成した後に、2 つのバックアップ ストレージ オプションを切り替えることはできません。

## <a name="scale-resources"></a>リソースのスケール

サーバーの作成後に、仮想コア数、ハードウェアの世代、価格レベル (Basic への変更、および Basic からの変更を除く)、ストレージ量、およびバックアップのリテンション期間を個別に変更できます。 バックアップ ストレージの種類は、サーバーの作成後に変更することはできません。 仮想コアの数は増やしたり減らしたりできます。 バックアップのリテンション期間は、7 日から 35 日の間でスケールアップまたはスケールダウンできます。 ストレージ サイズは増やすことのみ可能です。 ポータルまたは Azure CLI を使用して、リソースのスケーリングを実行できます。 Azure CLI を使用したスケーリングの例については、「[Azure CLI での Azure Database for PostgreSQL サーバーの監視とスケーリング](scripts/sample-scale-server-up-or-down.md)」を参照してください。

仮想コア数、ハードウェアの世代、または価格レベルを変更すると、新しいコンピューティング割り当てを使用して元のサーバーのコピーが作成されます。 新しいサーバーが実行されると、接続が新しいサーバーに切り替わります。 システムが新しいサーバーに切り替わるほんの短時間、新しい接続を確立できず、コミットされていないすべてのトランザクションがロールバックされます。 この時間の長さは変動しますが、ほとんどの場合 1 分未満です。

ストレージのスケーリングおよびバックアップのリテンション期間の変更は、本当の意味でのオンライン操作です。 ダウンタイムはなく、アプリケーションには影響しません。 IOPS はプロビジョニングされたストレージのサイズに合わせてスケーリングされるため、サーバーで使用できる IOPS を増やすには、ストレージをスケールアップします。

## <a name="pricing"></a>価格

最新の料金情報については、サービスの[料金ページ](https://azure.microsoft.com/pricing/details/PostgreSQL/)を参照してください。 必要な構成のコストについては、[Azure Portal](https://portal.azure.com/#create/Microsoft.PostgreSQLServer) で、選択したオプションに基づいて表示される **[価格レベル]** タブの月額コストを確認します。 Azure サブスクリプションを取得していない場合は、Azure 料金計算ツールを使用して見積もり価格を確認できます。 [Azure 料金計算ツール](https://azure.microsoft.com/pricing/calculator/)の Web サイトで **[項目の追加]** を選択し、**[データベース]** カテゴリを展開し、**[Azure Database for PostgreSQL]** を選択してオプションをカスタマイズします。

## <a name="next-steps"></a>次の手順

- [ポータルで PostgreSQL サーバーを作成](tutorial-design-database-using-azure-portal.md)する方法を確認します。
- [Azure CLI での Azure Database for PostgreSQL サーバーの監視とスケーリング](scripts/sample-scale-server-up-or-down.md)する方法を確認します。
- [サービスの制限事項](concepts-limits.md)を確認します。
