---
title: PaaS デプロイをセキュリティで保護する | Microsoft Docs
description: " 他のクラウド サービス モデルに対する PaaS のセキュリティ上の利点を理解し、Azure PaaS デプロイをセキュリティで保護するための推奨されるプラクティスについて学びます。 "
services: security
documentationcenter: na
author: techlake
manager: MBaldwin
editor: techlake
ms.assetid: ''
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/21/2017
ms.author: terrylan
ms.openlocfilehash: da5d59aaaea8e6186609eb5f3419fba5e67d4279
ms.sourcegitcommit: 4ea0cea46d8b607acd7d128e1fd4a23454aa43ee
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/15/2018
ms.locfileid: "42140763"
---
# <a name="securing-paas-deployments"></a>PaaS デプロイをセキュリティで保護する

この記事では、次のことに役立つ情報を提供します。

- クラウドでアプリケーションをホスティングすることに対するセキュリティ上の利点を理解する
- 他のクラウド サービス モデルに対するサービスとしてのプラットフォーム (PaaS) のセキュリティ上の利点を評価する
- セキュリティの取り組みを、ネットワークを中心としたアプローチから ID を中心とした境界セキュリティのアプローチに切り替える
- 一般的な PaaS セキュリティのベスト プラクティスの推奨事項を実装する

## <a name="cloud-security-advantages"></a>クラウド セキュリティの利点
クラウド内に存在することには、セキュリティ上の利点があります。 オンプレミス環境では、組織は責任を果たしきれず、セキュリティに投資できるリソースが限られていることが多いため、攻撃者がすべての階層で脆弱性を悪用できる環境が生まれています。

![クラウド時代のセキュリティ上の利点][1]

組織は、プロバイダーの提供するクラウドベースのセキュリティ機能とクラウド インテリジェンスを利用して、脅威の検出と応答時間を向上させることができます。  クラウド プロバイダーに責任をシフトすることで、セキュリティの適用範囲を広げることができるため、これまでセキュリティに費やしてきたリソースと予算を、事業のその他の優先事項に割り当てることができます。

## <a name="division-of-responsibility"></a>責任の分担
お客様と Microsoft との責任の分担を理解することが重要です。 オンプレミスでは、お客様はスタック全体を所有しますが、クラウドに移行すると、責任の一部は Microsoft に移譲されます。 責任に関する次のマトリックスでは、お客様と Microsoft それぞれが責任を負う SaaS、PaaS、IaaSのデプロイにおけるスタックの領域を示しています。

![責任領域][2]

すべてのクラウド デプロイの種類において、データと ID はお客様が所有します。 お客様にはデータと ID、オンプレミス リソース、お客様が制御するクラウド コンポーネント (サービスの種類によって異なります) を保護する責任があります。

デプロイの種類に関係なく、常にお客様が責任を持つ項目は次のとおりです。

- データ
- エンドポイント
- Account
- アクセス管理

## <a name="security-advantages-of-a-paas-cloud-service-model"></a>PaaS クラウド サービス モデルのセキュリティ上の利点
責任に関する同じマトリックスを使用して、オンプレミスに対する Azure PaaS デプロイのセキュリティ上の利点を見ていきましょう。

![PaaS のセキュリティ上の利点][3]

スタックの一番下、つまり物理インフラストラクチャから始めますが、Microsoft によって一般的なリスクと責任が軽減されます。 Microsoft Cloud は Microsoft によって継続的に監視されているため、攻撃することは困難です。 Microsoft Cloud を標的として追い続けることは、攻撃者にとって意味がありません。 莫大な資金とリソースがない限り、攻撃者は他の標的に移動します。  

スタックの真ん中の部分に関しては、PaaS デプロイとオンプレミスで違いはありません。 アプリケーション層、アカウントの管理層、アクセスの管理層などでは同じリスクがあります。 この記事の「次のステップ」セクションでは、これらのリスクを取り除いたり最小限に抑えるためのベスト プラクティスを紹介します。

スタックの一番上、つまりデータ ガバナンスと権利管理においては、キー管理によって軽減されるリスクが 1 つあります。 (キー管理についてはベスト プラクティスで説明します。)キー管理は付加的な責任ですが、お客様の管理が不要になった領域が PaaS デプロイにあるため、リソースをキー管理に移すことができます。

Azure プラットフォームではネットワークベースのさまざまなテクノロジを使用して、強力な DDoS 保護を提供します。 ただし、ネットワークベースのすべての種類の DDoS 保護方法には、リンクごとやデータセンターごとに限界があります。 大規模な DDoS 攻撃の影響を回避するには、DDoS 攻撃に対する防御を迅速かつ自動的にスケール アウトする Azure のコア クラウド機能を活用できます。 これを実行する方法については、推奨されるプラクティスの記事で詳しく説明します。

## <a name="modernizing-the-defenders-mindset"></a>防御担当者の意識を改革
PaaS デプロイにより、セキュリティへのアプローチ全般に変革がもたらされます。 すべて自分で制御しなければならない状況から、Microsoft と責任を分担する状況へと変わります。

PaaS と従来のオンプレミス デプロイにおけるもう 1 つの重要な相違点は、主要なセキュリティ境界を定義する新しい視点です。 これまでは、ネットワークこそがオンプレミスの主要なセキュリティ境界であり、オンプレミス セキュリティ設計のほとんどでは、主要なセキュリティの中心としてネットワークが使用されてきました。 PaaS デプロイでは、ID を主要なセキュリティ境界と考えることによって、お客様により充実したサービスを提供します。

## <a name="identity-as-the-primary-security-perimeter"></a>主要なセキュリティ境界としての ID
クラウド コンピューティングの 5 つの重要な特性の 1 つは広範なネットワーク アクセスであるため、ネットワーク中心の考えは関連性が低くなります。 クラウド コンピューティングが目指していることは、どこにいるかに関係なくユーザーがリソースにアクセスできるようにすることです。 ほとんどのユーザーにとって、自分たちのいる場所はインターネット上のどこかになります。

次の図は、セキュリティ境界がネットワーク境界から ID 境界へと発展してきたことを示しています。 セキュリティにおいては、ネットワークの保護よりもデータの保護、アプリとユーザーのセキュリティ管理が重要になってきています。 主な違いは、お客様が自社にとって重要なものの近くにセキュリティを配備することを望んでいる点です。

![新しいセキュリティ境界としての ID][4]

当初 Azure PaaS サービス (Web ロールや Azure SQL など) では、従来のネットワーク境界における防御はほとんどまたはまったく提供していませんでした。 攻撃者のねらいはインターネットに公開される (Web ロール) ことであり、認証によって新しい境界 (BLOB または Azure SQL など) が提供されると認識されていました。

最新のセキュリティ プラクティスでは、攻撃者がネットワーク境界に不正侵入していることを仮定しています。 そのため、最新の防御対策は ID に移行しています。 組織は、強力な認証と承認によるウィルス予防策 (ベスト プラクティス) を講じて、ID ベースのセキュリティ境界を確立する必要があります。

## <a name="recommendations-for-managing-the-identity-perimeter"></a>ID 境界の管理に関する推奨事項

ネットワーク境界の基本原則とパターンは、数十年もの間提供されてきました。 これに対して、ID を主要なセキュリティ境界として使用する業界の経験は比較的浅いものです。 とは言え、Microsoft では一般的な推奨事項を提供するのに十分なノウハウを蓄積してきました。この推奨事項は現場における実証済みで、ほぼすべての PaaS サービスに適用されます。

次に、ID 境界を管理するための一般的なベスト プラクティスのアプローチについて簡単に説明します。

- **キーや資格情報を紛失しないようにする** キーや資格情報を安全に保管することは、PaaS デプロイをセキュリティ保護する上で不可欠です。 キーや資格情報の紛失は、よくある問題です。 優れたソリューションの 1 つとして、キーやシークレットをハードウェア セキュリティ モジュール (HSM) に格納する一元化されたソリューションを使用することが挙げられます。 Azure では、[Azure Key Vault](../key-vault/key-vault-whatis.md) によりクラウドで HSM を提供しています。
- **資格情報やその他のシークレットをソース コードや GitHub に含めないようにする** キーや資格情報を紛失するよりももっと悪いことは、権限のない第三者がキーや資格情報へのアクセスを取得することです。 攻撃者はボット テクノロジを利用して、GitHub などのコード レポジトリに格納されているキーやシークレットを検索することができます。 これらのパブリックなソース コード レポジトリには、キーやシークレットを格納しないようにします。
- **PaaS と IaaS のハイブリッド サービスで VM 管理インターフェイスをセキュリティ保護する** IaaS と PaaS のサービスは仮想マシン (VM) 上で実行されます。 サービスの種類に応じて、VM を直接リモート管理できる管理インターフェイスが提供されています。 [セキュア シェル プロトコル (SSH)](https://en.wikipedia.org/wiki/Secure_Shell)、[リモート デスクトップ プロトコル (RDP)](https://support.microsoft.com/kb/186607)、[リモート PowerShell](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.core/enable-psremoting) などのリモート管理プロトコルを使用できます。 通常は、インターネットから VM に直接リモート アクセスできないように設定することをお勧めします。 利用できる場合は、Azure 仮想ネットワークに仮想プライベート ネットワークを使うなどの別の方法を取るようにしてください。 別の方法が利用できない場合は、複雑なパスフレーズを使うようにして、可能であれば 2 要素認証 ([Azure Multi-Factor Authentication](../active-directory/authentication/multi-factor-authentication.md) など) を使用するようにします。
- **強力な認証と承認のプラットフォームを使用する**

  - Azure AD で、カスタム ユーザー ストアではなくフェデレーション ID を使用するようにします。 フェデレーション ID を使用すると、プラットフォームベースのアプローチを活用して、承認された ID の管理をパートナーに委任することができます。 従業員を解雇し、その情報を複数の ID と承認システムに反映する必要があるシナリオでは、フェデレーション ID によるアプローチが特に重要になってきます。
  - カスタム コードではなく、プラットフォームが提供する認証と承認のメカニズムを使用するようにします。 その理由は、カスタム認証コードの開発ではエラーが生じやすいためです。 開発者のほとんどはセキュリティ専門家ではなく、細部に留意したり、認証や承認の最新動向を把握している可能性は低くなります。 商用コード (たとえば Microsoft のコード) は、通常徹底的にセキュリティ レビューされています。
  - 多要素認証を使用します。 多要素認証はユーザー名や認証パスワードの種類に固有のセキュリティ脆弱性が回避されるため、認証と承認において現在標準になっています。 Azure 管理 (ポータル/リモート PowerShell) インターフェイスと、顧客に提供されるサービスへのアクセスは、[Azure Multi-Factor Authentication (MFA)](../active-directory/authentication/multi-factor-authentication.md) を使用するように設計、構成する必要があります。
  - OAuth2 や Kerberos などの標準的な認証プロトコルを使用します。 これらのプロトコルは幅広くピア レビューされており、認証と承認用にプラットフォーム ライブラリの一部として実装される可能性があります。

## <a name="next-steps"></a>次の手順
この記事では、Azure PaaS デプロイのセキュリティ上の利点に重点を置いてきました。 次に、PaaS の Web ソリューションとモバイル ソリューションをセキュリティ保護するための推奨されるプラクティスについて説明します。 まず、Azure App Service、Azure SQL Database、Azure SQL Data Warehouse から始めましょう。 他の Azure サービスの推奨されるプラクティスに関する記事が公開されると、次の一覧にリンクが提供されます。

- [Azure App Service](security-paas-applications-using-app-services.md)
- [Azure SQL Database と Azure SQL Data Warehouse](security-paas-applications-using-sql.md)
- [Azure Storage](security-paas-applications-using-storage.md)
- Azure Redis Cache
- Azure Service Bus
- Web アプリケーション ファイアウォール

<!--Image references-->
[1]: ./media/security-paas-deployments/advantages-of-cloud.png
[2]: ./media/security-paas-deployments/responsibility-zones.png
[3]: ./media/security-paas-deployments/advantages-of-paas.png
[4]: ./media/security-paas-deployments/identity-perimeter.png
