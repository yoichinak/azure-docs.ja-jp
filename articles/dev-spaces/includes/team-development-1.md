---
title: インクルード ファイル
description: インクルード ファイル
ms.custom: include file
services: azure-dev-spaces
ms.service: azure-dev-spaces
ms.component: azds-kubernetes
author: ghogen
ms.author: ghogen
ms.date: 05/11/2018
ms.topic: include
manager: douge
ms.openlocfilehash: 0d3bdb6cc56b90d1975af73be1bb8cc1f73e1213
ms.sourcegitcommit: 4ea0cea46d8b607acd7d128e1fd4a23454aa43ee
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/15/2018
ms.locfileid: "40129127"
---
ここまでは、アプリケーションを扱う唯一の開発者であるかのようにアプリケーションのコードを実行しました。 このセクションでは、Azure Dev Spaces によるチーム開発の効率化について説明します。
* 共有開発空間で、または必要に応じて個別の開発空間で作業することで、同じ環境の中で開発者チームが作業できるようにします。
* 各開発者が他の開発者の妨げになることを心配せずに、単独でコードを反復処理できるようにします。
* モックを作成したり、依存関係をシミュレートしたりする必要なく、コードをコミットする前に、エンド ツー エンドでコードをテストする。

### <a name="challenges-with-developing-microservices"></a>マイクロサービスの開発に伴う課題
現時点では、サンプル アプリケーションはそれほど複雑ではありません。 しかし、実際の開発では、さらに多くのサービスが追加され、開発チームが拡大するにつれて、すぐに課題が生じます。

他の多くのサービスと対話するサービスの開発に取り組む自分の姿を想像してみてください。

- 開発のためにすべてをローカルで実行するのは非現実的になる可能性があります。 開発用コンピューターに、アプリ全体を実行できるだけのリソースがない場合があります。 また、アプリに、パブリックに到達できる必要があるエンドポイントがある場合もあります (アプリで SaaS アプリからの webhook に応答するなど)。

- 依存するサービスだけを実行するよう試みることはできますが、その場合、依存関係の完全なクロージャ (依存関係の依存関係など) を把握しておく必要があります。 あるいは、依存関係を扱っていなかったために、依存関係を構築し、実行する方法が簡単にはわからないという問題が生じます。
- 開発者には、サービスの依存関係の多くをシミュレートしたり、モックを作成したりする方法を用いる者もいます。 この方法でうまくいくこともありますが、開発時にすぐにモックの管理に苦労することになる可能性があります。 また、開発空間と運用環境が非常に異なって見えるようになり、バグが知らない間に発生するおそれもあります。
- その結果、あらゆる種類のエンド ツー エンド テストの実行が困難になります。 実際には、統合テストはコミット後にのみ行われる場合があります。つまり、問題は開発サイクルの後半に発生します。

![](../media/common/microservices-challenges.png)


### <a name="work-in-a-shared-dev-space"></a>共有開発空間で作業する
Azure Dev Spaces を使用して、Azure に "*共有*" 開発空間をセットアップできます。 各開発者は、アプリケーションの自分の担当部分だけに集中でき、自分のシナリオが依存する他のすべてのサービスとクラウド リソースが既に含まれている開発空間で、"*事前コミット コード*" を繰り返し開発できます。 依存関係は常に最新の状態であり、開発者は運用環境を反映した方法で作業を行います。

### <a name="work-in-your-own-space"></a>自分のスペースで作業する
サービスのコードを開発するときには、チェックインできる状態になるまで、多くの場合、コードは良好な状態ではありません。 引き続きコードの調整とテストを繰り返し、ソリューションを試します。 Azure Dev Spaces では、**スペース**という概念を導入しています。このスペースにより、チーム メンバーの妨げになることを心配せずに、単独で作業を行うことができます。

> [!Note]
> 続行する前に、両方のサービスの VS Code ウィンドウをすべて閉じ、サービスの各ルート フォルダーで `azds up -d` を実行します  (これはプレビューでの制限事項です)。

それでは、サービスが現在実行されている箇所を詳しく見てましょう。 `azds list-up` コマンドを実行すると、次のような出力が表示されます。

```
Name                          DevSpace  Type     Updated      Status
----------------------------  --------  -------  -----------  ----------------
mywebapi                      default   Service  10m 1s ago   Running
mywebapi-54f9cf5b59-bjnkm     default   Pod      10m 4s ago   Running
webfrontend-5b697958d6-b6v96  default   Pod      26m 38s ago  Init:1/3:mindaro-build
```

DevSpace 列には、両方のサービスが `default` という名前のスペースで実行されていることが示されます。 パブリック URL を開き、Web アプリに移動するすべてのユーザーは、前に記述した、両方のサービスを介して実行されるコード パスを呼び出します。 ここでは、`mywebapi` の開発を続行するとします。 開発環境を利用している他の開発者の邪魔にならないように、コードを変更してテストする方法はあるでしょうか? それには、独自のスペースを設定することです。

### <a name="create-a-dev-space"></a>開発スペースを作成する
`default` 以外のスペースで独自のバージョンの `mywebapi` をスペースで実行するために、次のコマンドを使用して、独自のスペースを作成できます。

``` 
azds space select --name scott
```

メッセージが表示されたら、**親開発スペース**として `default` を選択します。 これは、新しい `default/scott` スペースが `default` スペースから派生することを意味します。 これがテストでどのように役立つかは、すぐわかります。 

上記の例では、新しいスペースに自分の名前を使用して、自分が作業しているスペースであることを同僚が確認できるようにしましたが、"sprint4" や "demo" など、内容に合わせて自由に名前を付けることができます。

`azds space list` コマンドを実行すると、開発環境にあるすべてのスペースが一覧表示されます。 現在選択されているスペースの横にはアスタリスク (*) が表示されます。 この例では、スペースの作成時に "default/scott" という名前のスペースが自動的に選択されました。 `azds space select` コマンドを使用して、いつでも別のスペースを選択することができます。
