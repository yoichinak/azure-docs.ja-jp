---
title: Microsoft Azure StorSimple Virtual Array の概要 | Microsoft Docs
description: オンプレミス仮想アレイと Microsoft Azure クラウド ストレージ間でストレージ タスクを管理する統合ストレージ ソリューションである StorSimple Virtual Array について説明します。
services: storsimple
documentationcenter: NA
author: alkohli
manager: jeconnoc
editor: ''
ms.assetid: 169c639b-1124-46a5-ae69-ba9695525b77
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: TBD
ms.date: 08/02/2018
ms.author: alkohli
ms.openlocfilehash: 78ed53e5e2f5d04943e6c32ddfedf037cb9e1f73
ms.sourcegitcommit: fc5555a0250e3ef4914b077e017d30185b4a27e6
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/03/2018
ms.locfileid: "39480956"
---
# <a name="introduction-to-the-storsimple-virtual-array"></a>StorSimple Virtual Array の概要

## <a name="overview"></a>概要

Microsoft Azure StorSimple Virtual Array は、ハイパーバイザーで実行されるオンプレミスの仮想アレイと Microsoft Azure のクラウド ストレージとの間でストレージ タスクを管理する統合ストレージ ソリューションです。 仮想アレイは、企業のストレージとデータ保護に伴う多くの問題を解消し、費用を削減する、効率と経済性、管理性にファイル サーバーまたは iSCSI サーバー ソリューションです。 仮想アレイは、アクセス頻度の低いアーカイブ データの記憶域に特に適しています。

この記事では、仮想アレイの概要を説明します。その他のリソースについては次をご覧ください。

* ベスト プラクティスについては、「[StorSimple Virtual Array のベスト プラクティス](storsimple-ova-best-practices.md)」をご覧ください。
* StorSimple 8000 シリーズ デバイスの概要については、「[StorSimple 8000 シリーズ: ハイブリッド クラウド ストレージ ソリューション](storsimple-overview.md)」をご覧ください。
* StorSimple 5000/7000 シリーズ デバイスについては、「[StorSimple Online Help](http://onlinehelp.storsimple.com/)」をご覧ください。

仮想アレイは、iSCSI プロトコルまたはサーバー メッセージ ブロック (SMB) プロトコルをサポートします。 Virtual Array は、既存のハイパーバイザー インフラストラクチャ上で実行され、クラウドへの階層化、クラウド バックアップ、高速復元、項目レベルの回復、ディザスター リカバリー機能を実現します。

StorSimple Virtual Array の重要な機能を次の表にまとめます。

| 機能 | StorSimple Virtual Array |
| --- | --- |
| インストール要件 |仮想化インフラストラクチャ (Hyper-V または VMware) を使用 |
| 可用性 |単一ノード |
| 総容量 (クラウドを含む) |使用可能容量は仮想アレイあたり最大 64 TB |
| ローカル容量 |使用可能容量は仮想アレイあたり 390 GB ～ 6.4 TB (500 GB ～ 8 TB のディスク領域のプロビジョニングが必要) |
| ネイティブ プロトコル |iSCSI または SMB |
| 目標復旧時間 (RTO) |iSCSI: サイズに関係なく、2 分未満 |
| 目標復旧時点 (RPO) |日次バックアップとオンデマンド バックアップ |
| ストレージ階層化 |ヒート マッピングを使用して、ローカルまたはクラウドに階層化するデータを決定 |
| サポート |サプライヤーによってサポートされる仮想化インフラストラクチャ |
| パフォーマンス |基になるインフラストラクチャによって異なる |
| データのモビリティ |同じデバイスに復元することも、項目レベルの回復 (ファイル サーバー) を実行することも可能 |
| ストレージ層 |ローカル ハイパーバイザー ストレージとクラウド |
| 共有サイズ |階層化: 最大 20 TB、ローカル固定: 最大 2 TB |
| ボリューム サイズ |階層化: 500 GB - 5 TB、ローカル固定: 50 GB - 200 GB <br> 階層化ボリュームに対する最大のローカル予約は 200 GB です。 |
| スナップショット |クラッシュ整合性 |
| 項目レベルの回復 |可能: ユーザーが共有から復元可能 |

## <a name="why-use-storsimple"></a>StorSimple を使用する理由

StorSimple は、アプリケーションを変更せずに、ユーザーとサーバーを数分で Azure ストレージに接続します。

StorSimple Virtual Array ソリューションの主なメリットを次の表に示します。

| 機能 | 長所 |
| --- | --- |
| 透過的な統合 |仮想アレイは、iSCSI プロトコルまたは SMB プロトコルをサポートします。 ローカル層とクラウド層間でデータの移動は、シームレスで、ユーザーに対して透過的です。 |
| ストレージ コストの削減 |StorSimple では、最もよく使用されるホットデータの現在の需要を満たす十分なローカル ストレージをプロビジョニングします。 ストレージのニーズが増加すると、データはコスト効率の良いクラウド ストレージに階層化されます。 クラウドでは、重複除去と圧縮を使用することで、ストレージ要件とコストがさらに削減されます。 |
| ストレージ管理の単純化 |StorSimple では、StorSimple Device Manager を使用して、複数のデバイスをクラウドで一元管理します。 |
| ディザスター リカバリーとコンプライアンスの強化 |StorSimple はディザスター リカバリーに長い時間を費やすことはありません。メタデータがすぐに復元され、必要に応じて保存済みのデータが復元されます。 つまり、最小限の中断で通常の業務を継続することができます。 |
| データのモビリティ |クラウドに階層化されたデータには、復旧と移行の目的で他のサイトからアクセスできます。 データは元の仮想アレイにのみ復元できます。 ただし、ディザスター リカバリー機能を使用して、仮想アレイ全体を別の仮想アレイに復元できます。 |

## <a name="storsimple-workload-summary"></a>StorSimple ワークロードの概要

サポートされる StorSimple ワークロードの概要を、次の表に示します。

|シナリオ     |ワークロード     |サポートされています      |制限               |
|-------------|-------------|---------------|---------------------------|
|リモート オフィス/ブランチ オフィス (ROBO)  |ファイル共有     |はい      |[ファイル サーバーの最大制限](storsimple-ova-limits.md)を参照してください。<br></br>[サポートされている SMB バージョンのシステム要件](storsimple-ova-system-requirements.md)を参照してください。| すべてのバージョン     |
|クラウド アーカイブ  |アーカイブ ファイル共有     |はい      |[ファイル サーバーの最大制限](storsimple-ova-limits.md)を参照してください。<br></br>[サポートされている SMB バージョンのシステム要件](storsimple-ova-system-requirements.md)を参照してください。| すべてのバージョン     |

StorSimple Virtual Array は、アクセス頻度の低いデータに最適です。 仮想アレイはパフォーマンスを向上させるためにローカル キャッシュを備えていますが、ユーザーはデバイスがストレージ (クラウド) の最下層のファイルを処理することを想定しておく必要があります。 各仮想アレイは、約 100 Mbps で Azure Storage の書き込みと読み取りができます。 そのリンクはデバイスに入ってくるすべての要求間で共有されるため、次の図に示すようにボトルネックになる可能性があります。

![クラウド アーカイブ](./media/storsimple-ova-overview/cloud-archiving.png)

複数の同時実行ユーザーが、仮想アレイにアクセスする場合、そのユーザーすべてが Azure への接続を共有するため、パフォーマンスが低下します。 ユーザーごとのパフォーマンスの保証はなく、要求を受信すると、デバイスは要求を個別に処理します。

StorSimple Virtual Array は、高可用性を必要とするワークロードには適していません。 仮想アレイは、ソフトウェア更新プログラムがインストールされるときに、ダウンタイムが発生する単一ノードのデバイスです。 管理者は、30 分のメンテナンス時間を 1 年あたり 3 ～ 4 回計画する必要があります。

## <a name="workflows"></a>Workflows

StorSimple Virtual Array は、次のワークフローに特に適してします。

* [クラウドベースのストレージ管理](#cloud-based-storage-management)
* [場所に依存しないバックアップ](#location-independent-backup)
* [データ保護とディザスター リカバリー](#data-protection-and-disaster-recovery)

### <a name="cloud-based-storage-management"></a>クラウドベースのストレージ管理
Azure Portal で実行されている StorSimple Device Manager サービスを使用して、複数のデバイスや複数の場所に保存されたデータを管理できます。 これは、分散型ブランチ シナリオで特に役立ちます。 仮想アレイと StorSimple 物理デバイスを管理する StorSimple Device Manager サービスのインスタンスを個別に作成する必要があります。 また、仮想アレイでは、Azure クラシック ポータルではなく、新しい Azure Portal を使用するようになりました。

![クラウドベースのストレージ管理](./media/storsimple-ova-overview/cloud-based-storage-management.png)

### <a name="location-independent-backup"></a>場所に依存しないバックアップ
仮想アレイでは、クラウド スナップショットによって、ボリュームまたは共有の場所に依存しない特定時点のコピーが提供されます。 クラウド スナップショットは既定で有効になっており、無効にすることはできません。 単一の日次バックアップ ポリシーによって、すべてのボリュームと共有が同時にバックアップされます。また、必要に応じて、追加のアドホック バックアップを作成することもできます。

### <a name="data-protection-and-disaster-recovery"></a>データ保護とディザスター リカバリー
仮想アレイでは、次のデータ保護とディザスター リカバリーのシナリオをサポートします。

* **ボリュームまたは共有の復元** - ボリュームまたは共有を回復する新しいワークフローとして復元を使用します。 この手法を使用して、ボリュームまたは共有全体を回復します。
* **項目レベルの回復** - 共有により、最近のバックアップへのアクセスを簡素化できます。 クラウドで利用できる特別な *.backup* フォルダーから、個々のファイルを簡単に回復できます。 この復元機能はユーザー主導型であり、管理者の介入は不要です。
* **ディザスター リカバリー** - フェールオーバー機能を使用して、すべてのボリュームまたは共有を新しい仮想アレイに回復します。 新しい仮想アレイを作成して StorSimple Device Manager サービスに登録し、元の仮想アレイをフェールオーバーします。 プロビジョニング済みのリソースは、新しい仮想アレイが引き継ぎます。

## <a name="storsimple-virtual-array-components"></a>StorSimple Virtual Array のコンポーネント

仮想アレイには、次のコンポーネントがあります。

* [仮想アレイ](#virtual-array) - 仮想化環境またはハイパーバイザーにプロビジョニングされた仮想マシンに基づくハイブリッド クラウド ストレージ デバイス。
* [StorSimple Device Manager サービス](#storsimple-device-manager-service) - さまざまな地理的場所からアクセスできる単一の Web インターフェイスから、1 つ以上の StorSimple デバイスを管理できる、Azure Portal の拡張機能。 StorSimple Device Manager サービスを使用して、サービスの作成と管理、デバイスやアラートの表示と管理、ボリューム、共有、既存のスナップショットの管理を行うことができます。
* [ローカル Web ユーザー インターフェイス](#local-web-user-interface) - デバイスの構成に使用する Web ベースの UI。この UI を使用して、ローカル ネットワークに接続し、デバイスを StorSimple Device Manager サービスに登録できます。 
* [コマンド ライン インターフェイス](#command-line-interface) - StorSimple Virtual Array でサポート セッションを開始する際に使用できる Windows PowerShell インターフェイス。
  以降のセクションでは、これらのコンポーネントについてそれぞれ説明します。また、このソリューションでデータを整理し、ストレージを割り当て、ストレージ管理とデータ保護を容易にする方法について説明します。

### <a name="virtual-array"></a>仮想アレイ

仮想アレイは、プライマリ ストレージを提供し、クラウド ストレージとの通信を管理する単一ノード ストレージ ソリューションです。仮想アレイでは、デバイス上に保存されたすべてのデータのセキュリティと機密性も確保されます。

仮想アレイは、ダウンロード可能な 1 つのモデルで使用できます。 仮想アレイの最大容量は、デバイス上が 6.4 TB (基になるストレージ要件は 8 TB)、クラウド ストレージを含めると 64 TB です。

仮想アレイには次の特長があります。

* コスト効率に優れています。 既存の仮想化インフラストラクチャを使用し、既存の Hyper-V または VMware ハイパーバイザーにデプロイできます。
* Virtual Array はデータセンターにあり、iSCSI サーバーまたはファイル サーバーとして構成できます。
* クラウドと統合されています。
* バックアップはクラウドに保存されるので、ディザスター リカバリーが容易になり、項目レベルの回復 (ILR) を簡素化できます。
* 物理デバイスと同様に、仮想アレイには更新プログラムを適用できます。

> [!NOTE]
> 仮想アレイを拡張することはできません。 そのため、仮想アレイの作成時に十分なストレージをプロビジョニングすることが重要です。

### <a name="storsimple-device-manager-service"></a>StorSimple Device Manager サービス

Microsoft Azure StorSimple には Web ベースのユーザー インターフェイス (StorSimple Device Manager サービス) があり、クラウド ストレージを一元管理できます。 StorSimple Device Manager サービスを使用して、次のタスクを実行できます。

* 1 つのサービスから複数の StorSimple Virtual Array を管理する。
* StorSimple Virtual Array のセキュリティ設定を構成、管理する  (クラウドでの暗号化には、Microsoft Azure API を利用)。
* ストレージ アカウントの資格情報とプロパティを構成する。
* ボリュームまたは共有を構成および管理する。
* ボリュームまたは共有上のデータをバックアップおよび復元する。
* パフォーマンスを監視する。
* システム設定を確認し、問題の可能性を特定する。

StorSimple Device Manager サービスを使用して、仮想アレイの日常的な管理を行います。

詳細については、「[StorSimple Device Manager サービスを使用した StorSimple デバイスの管理](storsimple-virtual-array-manager-service-administration.md)」をご覧ください。

### <a name="local-web-user-interface"></a>ローカル Web ユーザー インターフェイス

仮想アレイには、1 回限りの構成と StorSimple Device Manager サービスへのデバイスの登録に使用する Web ベースの UI が用意されています。 この UI を使用して、仮想アレイのシャットダウンと再起動、診断テストの実行、ソフトウェアの更新、デバイス管理者のパスワードの変更、システム ログの表示、サービス要求を送信するための Microsoft サポートへの連絡を行うことができます。

Web ベースの UI の使用方法については、「 [Web UI を使用した StorSimple Virtual Array の管理](storsimple-ova-web-ui-admin.md)」をご覧ください。

### <a name="command-line-interface"></a>コマンド ライン インターフェイス

付属の Windows PowerShell インターフェイスを使用して、Microsoft サポートとのサポート セッションを開始できます。サポート セッションは、Microsoft サポートが仮想アレイで発生する問題のトラブルシューティングを行い、解決するのに役立ちます。

## <a name="storage-management-technologies"></a>ストレージ管理テクノロジ

仮想アレイと他のコンポーネントに加え、StorSimple ソリューションでは次のソフトウェア テクノロジを使用して、重要なデータへの迅速なアクセス、ストレージ使用量の削減、仮想アレイに保存されているデータの保護を実現します。

* [自動ストレージ階層化](#automatic-storage-tiering) 
* [ローカル固定共有/ボリューム](#locally-pinned-shares-and-volumes)
* [クラウドに階層化またはバックアップされたデータの重複除去と圧縮](#deduplication-and-compression-for-data-tiered/backed-up-to-the-cloud) 
* [スケジュールされたバックアップとオンデマンド バックアップ](#scheduled-and-on-demand-backups)

### <a name="automatic-storage-tiering"></a>自動ストレージ階層化
仮想アレイでは、新しい階層化メカニズムを使用して、仮想アレイとクラウド全体にわたり、保存されているデータを管理します。 層はローカル 仮想アレイと Azure クラウド ストレージの 2 つだけです。 StorSimple Virtual Array では、現在の使用状況、データの古さ、および他のデータとの関係を追跡するヒート マップに基づいて、データを自動的に各層に配置します。 使用頻度が最も高い (最もホットな) データはローカルに保存され、使用頻度の低いデータとまったく使用されていないデータは自動的にクラウドに移行されます  (バックアップはすべてクラウドに保存されます)。StorSimple は、使用パターンの変化に応じて、データとストレージの割り当てを調整し、再整理します。 たとえば、時間の経過と共に一部の情報があまりアクティブではなくなったとします。 使用頻度が徐々に低下してくると、そのデータはクラウドに階層化されます。 この同じデータの使用頻度が再び高くなると、ストレージ アレイに階層化されます。

特定の階層化された共有またはボリュームのデータには、独自のローカル層スペース (その共有またはボリュームにプロビジョニングされている領域の合計の約 10%) が保証されます。 これにより、仮想アレイの、その共有またはボリュームの使用可能ストレージが減ると同時に、ある共有またはボリュームの階層化が、他の共有またはボリュームの階層化のニーズによる影響を受けることはなくなります。 そのため、共有またはボリュームに非常にビジーなワークロードがあっても、他のすべてのワークロードをクラウドに強制的に移行することはできません。

iSCSI 用に作成された階層型ボリュームは、ボリュームのサイズに関係なく、最大 200 GB のローカル予約領域を持っています。

![自動ストレージ階層化](./media/storsimple-ova-overview/automatic-storage-tiering.png)

> [!NOTE]
> ボリュームをローカル固定として指定できます。この場合、データは仮想アレイ上に保持され、クラウドに階層化されることはありません。 詳細については、「 [ローカル固定共有/ボリューム](#locally-pinned-shares-and-volumes)」をご覧ください。


### <a name="locally-pinned-shares-and-volumes"></a>ローカル固定共有/ボリューム

適切な共有およびボリュームをローカル固定として作成できます。 この機能により、重要なアプリケーションに必要なデータを仮想アレイに保持し、クラウドに階層化されないようにできます。 ローカル固定共有/ボリュームには次の特長があります。

* クラウドの待機時間や接続の問題による影響を受けることはありません。
* StorSimple のクラウド バックアップとディザスター リカバリー機能から引き続きメリットが得られます。

ローカル固定共有/ボリュームを階層化として復元することも、階層化共有/ボリュームをローカル固定として復元することもできます。 

ローカル固定ボリュームの詳細については、「 [StorSimple Device Manager サービスを使用してボリュームを管理する (Update 2)](storsimple-virtual-array-manage-volumes.md)」をご覧ください。

### <a name="deduplication-and-compression-for-data-tiered-or-backed-up-to-the-cloud"></a>クラウドに階層化またはバックアップされたデータの重複除去と圧縮

StorSimple では、重複除去とデータ圧縮を使用して、クラウドでのストレージ要件をさらに削減します。 重複除去では、格納されているデータ セットの重複を除去してデータを圧縮します。 情報が変更されると、StorSimple は、変更されていないデータを無視して変更内容のみを取り込みます。 さらに、重複する情報を特定して削除することで、保存されるデータの量を減らします。

> [!NOTE]
> 仮想アレイに保存されたデータは、重複除去も圧縮もされません。 すべての重複除去と圧縮は、データがクラウドに送信される直前に実行されます。

### <a name="scheduled-and-on-demand-backups"></a>スケジュールされたバックアップとオンデマンド バックアップ

StorSimple のデータ保護機能を使用すると、オンデマンド バックアップを作成できます。 また、既定のバックアップ スケジュールにより、データが毎日バックアップされます。 バックアップは増分スナップショットの形で作成され、クラウドに保存されます。 前回のバックアップ以降の変更だけを記録するスナップショットを作成し、すばやく復元できます。 これらのスナップショットは、セカンダリ ストレージ システム (テープ バックアップなど) に代わるものであり、必要に応じてデータセンターまたは代替サイトにデータを復元することが可能となるため、ディザスター リカバリー シナリオで非常に重要になります。

## <a name="managing-personal-information"></a>個人情報の管理

仮想シリーズの StorSimple デバイス マネージャーは、2 つのキー インスタンスに個人情報を収集します。
 - ユーザーのメール アドレスが構成されているアラート ユーザー設定。 この情報は、管理者がクリアできます。 
 - 共有に存在するデータにアクセスできるユーザー。 共有データにアクセスできるユーザーの一覧が表示され、エクスポートできるようになります。 共有が削除されると、この一覧も削除されます。

詳細については、[セキュリティ センターにある Microsoft のプライバシー ポリシー](https://www.microsoft.com/trustcenter)を確認してください。

## <a name="next-steps"></a>次の手順

[仮想アレイ ポータルを準備する](storsimple-virtual-array-deploy1-portal-prep.md)方法を確認します。
