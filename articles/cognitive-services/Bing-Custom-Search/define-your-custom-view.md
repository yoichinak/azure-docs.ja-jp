---
title: 'Bing Custom Search: カスタム ビューの定義 | Microsoft Docs'
description: サイトおよび垂直検索サービスを作成する方法について説明します
services: cognitive-services
author: brapel
manager: ehansen
ms.service: cognitive-services
ms.component: bing-custom-search
ms.topic: article
ms.date: 09/28/2017
ms.author: v-brapel
ms.openlocfilehash: 8ffe3087df398d6310828e41d0c6992199fafbed
ms.sourcegitcommit: 95d9a6acf29405a533db943b1688612980374272
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/23/2018
ms.locfileid: "35374768"
---
# <a name="configure-your-custom-search-experience"></a>カスタム検索エクスペリエンスの構成
カスタム検索インスタンスでは、ユーザーが関心を寄せている Web サイトからのみのコンテンツを含むように、検索エクスペリエンスを調整できます。 Bing では、Web 全体の検索を実行するのではなく、関心のある Web のスライスのみを検索します。
Web のカスタム ビューを作成するには、Bing Custom Search [ポータル](https://customsearch.ai)を使用します。 ポータルへのサインインの詳細については、「[最初の Bing Custom Search インスタンスの作成](https://docs.microsoft.com/azure/cognitive-services/bing-custom-search/quick-start)」を参照してください。 ポータルでは、Bing で検索したいドメイン、サブページ、および Web ページと、検索したくないドメイン、サブページ、および Web ページを指定する検索インスタンスを作成できます。 わかっているコンテンツの URL を指定するだけでなく、ビューに追加したいコンテンツをポータルから提案してもらうことも可能です。 Web のスライスを定義できる方法を次に示します。 

1.  ドメイン。 ドメインのスライスには、インターネット ドメイン内で見つかったすべてのコンテンツが含まれます。 たとえば、www.microsoft.com です。 'www' を省略すると、Bing ではドメインのサブドメインも検索します。 たとえば、「microsoft.com」と指定した場合、Bing は support.microsoft.com や technet.microsoft.com からの結果も返します。
2.  サブページ。 サブページのスライスには、サブページとその下のパスで見つかったすべてのコンテンツが含まれます。 パスには最大 2 つのサブページを指定できます  (たとえば、www.microsoft.com/en-us/windows/)。 
3.  Web ページ。 Web ページのスライスは、カスタム検索に該当の Web ページのみを含めることができます。 必要に応じて、サブページを含めるかどうかを指定できます。

指定するすべてのドメイン、サブページ、および Web ページはパブリックであり、Bing でインデックス設定されている必要があります。 検索に含めたいパブリック サイトを保有しており、Bing ではそのサイトにインデックスを設定していない場合は、Bing でのインデックスの取得に関する詳細について、 Bing の [Web 管理者ドキュメント](https://www.bing.com/webmaster/help/webmaster-guidelines-30fba23a)で確認してください。 また、インデックスが期限切れの場合は、クロールしたサイトの Bing での更新について、Web 管理者ドキュメントで確認してください。

## <a name="adding-slices-to-your-custom-search"></a>カスタム検索にスライスを追加する
カスタム検索インスタンスを定義するときは、検索する、または検索しないアクティブ ドメインやブロックされているドメイン、サブページ、および Web ページを指定します。  

- アクティブ: 検索に含めるドメイン、サブページ、または Web ページの一覧。 
- ブロック: 検索から除外するドメイン、サブページ、または、Web ページの一覧。 ブロックする項目は、[アクティブ] 一覧に表示されるドメインおよびサブページ下で見つかるコンテンツである必要があります。

各一覧にアクセスするには、カスタム検索インスタンスの [アクティブ] タブおよび [ブロック] タブをクリックします。 

<a name="active-and-blocked-lists"></a>
## <a name="active-and-blocked-lists"></a>[アクティブ] および [ブロック] 一覧 
Bing で検索する Web のスライスを指定するには、**[アクティブ]** タブをクリックして、検索するドメイン、サブページ、およびWeb ページを一覧表示します。 一覧に直接 1 つのスライスを追加するか、またはアップロード アイコンを使ってテキスト ファイルをアップロードすることで、複数のスライスを追加することが可能です。

ファイル アップロードの詳細は次のとおりです。 

- ファイル アップロードは [アクティブ] 一覧にスライスを追加する場合のみに利用でき、[ブロック] 一覧へのスライスの追加には使用できません。 
- テキスト ファイルを作成し、単一のドメイン、サブページ、および Web ページを 1 行ずつ指定します。 エラーが発生した場合は、全体のアップロードが拒否されます。 
- アップロード ファイルに指定したドメイン、サブページ、または Web ページが [ブロック] 一覧に含まれている場合、サービスは [ブロック] 一覧から該当の項目を削除して、[アクティブ] 一覧に追加します。 
- サービスは、アップロード ファイル内の重複を無視します。

スライスを編集または削除するには、[コントロール] 列にあるオプションを使用します。 

同様に、[ブロック] 一覧にスライスを追加できます (ただし、アップロード ファイルを使用してスライスを指定することはできません)。

## <a name="pinned-list"></a>[ピン留め] 一覧
ポータルでは、ユーザーが特定の検索用語を入力した場合に、検索結果の一番上に特定の Web ページをピン留めすることもできます。 **[ピン留め]** タブには、特定のクエリの最上位の結果として表示される Web ページを指定する検索用語と Web ページのペアの一覧が含まれています。 ユーザーの検索用語は、ピン留めされた検索用語と正確に一致する必要があります。
ピン留めの結果については、「[ランク付けの調整](#adjustrank)」を参照してください。

ピン留めの結果は、Image Search エクスペリエンスでは利用できません。

## <a name="site-suggestions"></a>サイト候補
[アクティブ] リストにスライスを追加した後に、サービスでは、検索に追加できるサイトとサブページの候補を生成します。 **[You might want to add]\(追加してみる\)** セクションに候補が表示されます。 候補が使用可能な場合にのみ、インスタンス設定のページにこのセクションが含まれます。 

[アクティブ] 一覧に候補を追加するには、[+] アイコンをクリックします。  サービスでは設定に基づいて候補を生成するため、候補を追加した後は必ず **[最新の情報に更新]**  をクリックしてください。 

## <a name="preview-pane"></a>プレビュー ウィンドウ
右側にあるプレビュー ウィンドウを使用して検索インスタンスを試行し、検索クエリとビューの結果を送信することができます。 **[My Instance]** \(マイ インスタンス\) を選択し、安全な検索フィルターと検索する市場を選択します (「[クエリ パラメーター](https://docs.microsoft.com/rest/api/cognitiveservices/bing-custom-search-api-v7-reference#query-parameters)」を参照してください)。 クエリを入力し、Enter キーを押すか、または検索アイコンをクリックして、現在の構成から結果を表示します。 Web 結果を表示するには、**[Web]** をクリックし、画像の結果を表示するには、**[画像]** をクリックします。 

 プレビュー ウィンドウを使用して、**[My Instance]\(マイ インスタンス\)** ではなく **Bing** を選択することで、Bing の結果を確認することもできます。 検索エクスペリエンスからの結果を Bing が返した結果と比較するために、この機能が役立つ場合があります。

<a name="adjustrank"></a>
## <a name="adjust-rank"></a>ランク付けの調整
ポータルでは、ランク付けを調整して、Bing が返す結果を操作できます。 プレビュー ウィンドウで、検索用語を入力して、クエリを実行します。 クエリの検索結果が、プレビュー ウィンドウに一覧表示されます。 各結果の右側は、ユーザーが操作できる調整の一覧になっています。 

- ブロック。 ドメイン、サブページ、または Web ページを [ブロック] 一覧に移動します。 ブロックするレベルを選択します。 Bing は、選択したサイトからのコンテンツを検索結果で除外します。 
- 昇格。 検索結果で、ドメインまたはサブページからのコンテンツを上位へ昇格させます。 該当の Web ページが属するドメインまたはサブページからのコンテンツを昇格するかどうかを選択します。
- 降格。 検索結果で、ドメインまたはサブページからのコンテンツを下位へ降格させます。 該当の Web ページが属するドメインまたはサブページからのコンテンツを降格するかどうかを選択します。 
- 一番上にピン留め。 ユーザーの検索用語が、使用した検索用語と完全に一致した場合に、結果の一番上に表示される Web ページを定義します。 ピン留めする Web ページが、[アクティブ] 一覧に含まれている必要はありません。 

ランク付けの調整は、Image Search エクスペリエンスには使用できません。

## <a name="boosting-and-demoting"></a>昇格と降格
[アクティブ] 一覧にある任意のドメインまたはサブページを特別昇格、昇格、または降格することができます。 既定では、すべてのスライスが同じ重みで追加されます。 特別昇格または昇格された項目は、検索結果でより上位に表示されます (特別昇格される項目は、昇格される項目よりも上位)。 降格された項目は、検索結果でより下位に表示されます。

特別昇格、昇格、および降格によって、それぞれの重みのバリアントがドメインまたはサブページに付与されることへの注意が大切です。 これは、ランク付けにおいて、結果の順序の決定に使用される多くの指標の 1 つにすぎません。 つまり、Web 結果のランク付け全体には多くの要素が影響する可能性があるため、特定のクエリに対してバリアントの効果が保証されるわけではありません。  ランク付けにおいて降格または昇格による効果の可能性を判断するには、[プレビュー] ウィンドウを使用して検索エクスペリエンスをテストします。

[アクティブ] 一覧の [Ranking Adjust]\(ランク付けの調整\) を使用するか、または [プレビュー] ウィンドウの [Boost and Demote]\(昇格と降格\) コントロールを使用して、項目を特別昇格、昇格、または降格することができます。 サービスは [アクティブ] 一覧にスライスを追加し、それに伴ってランク付けを調整します。

特別昇格、昇格、および降格の変更は自動的に保存され、カスタム検索エンドポイントに対して直ちに反映されます。 

特別昇格、昇格、および降格は、Image Search エクスペリエンスでは使用できません。

## <a name="pin-to-top"></a>一番上にピン留め
特定のクエリの検索結果の先頭に Web ページを固定するには、次のいずれかの方法を選択します。

1.  [ピン留め] タブで、結果の一番上にピン留めする Web ページの URL と、ピン留めをトリガーする正確なクエリを入力します。 
2.  プレビュー ウィンドウで、検索用語を入力して、検索を実行します。 次に、ユーザーが同じクエリを入力した場合に結果の一番上にピン留めする Web ページを、結果の中から特定します。 その後、[ピン留めする] をクリックして先頭に配置します。 サービスは、[ピン留め] 一覧に Web ページとクエリを追加します。 

[ピン留め] タブで、使用しているピン留めを追跡できます。ピン留めは、'\<クエリ\>, \<Web ページ\>' のペアとして表示されます。 

ユーザーのクエリが、クエリと完全に一致する場合にのみ、Web ページがピン留めされます。 

特定のクエリに対して、結果の一番上にピン留めされる Web ページは最大でも 1 つです。

ピン留めは、Image Search エクスペリエンスには使用できません。

## <a name="use-bing-to-specify-slices"></a>Bing を使用してスライスを指定する
カスタム検索で使用する Web のスライスを指定する方法は 2 つあります。 インスタンスに追加するスライスがわかっている場合、インスタンスの [アクティブ] 一覧に追加します。 [アクティブ] 一覧に自分で項目を追加する方法については、「[[アクティブ] および [ブロック] 一覧](#active-and-blocked-lists)」を参照してください。
しかし、どのスライスを追加するかわからない場合は、[プレビュー] ウィンドウで Bing クエリを実行して、Bing から返される内容を確認します。 その後、カスタム検索で追加するスライスを選択できます。 多くの場合、複数の検索用語を実行して、インスタンスに追加するすべてのスライスを確実に特定する必要があります。 

次の手順を実行して、Bing を使用して Custom Search インスタンスにスライスを追加します。 
1.  Bing Custom Search の[ポータル](https://customsearch.ai)にサインインします。
2.  インスタンスを作成するか、またはインスタンスを選択して更新します。
3.  右側にある [プレビュー] ウィンドウで、ドロップダウン リストから [Bing] を選択します。
4.  [検索] ボックスで、インスタンスに関連する検索用語を入力します。
5.  追加する結果の横にある **[サイトの追加]** をクリックします。
6.  **[OK]** ボタンをクリックします。

[!INCLUDE[publish or revert](./includes/publish-revert.md)]

## <a name="view-statistics"></a>統計を表示する
適切なレベルで Custom Search にサブスクライブすると ([価格のページ](https://azure.microsoft.com/pricing/details/cognitive-services/bing-custom-search/)を参照)、実稼働インスタンスに **[統計]** タブが追加されます。 [統計] タブには、通話ボリューム、上位のクエリ、地理的分散、応答コード、セーフ サーチなど、Custom Search の使用状況に関する詳細情報が表示されます。 提供されているコントロールを使用して、詳細情報をフィルター処理できます。

## <a name="understanding-quota"></a>クォータについて
- カスタム検索インスタンスごとに、**[アクティブ]** と **[ブロック]** のスライスに対して設定できるランク付け調整の最大数は 400 に制限されています。
- スライスを [アクティブ] または [ブロック] タブに追加すると、1 回のランク付け調整としてカウントされます。
- 昇格および降格を行うと、2 回のランク付け調整としてカウントされます。
- カスタム検索インスタンスごとに、設定できるピンの最大数は 200 に制限されています。

## <a name="next-steps"></a>次の手順

- [カスタム検索の呼び出し](./search-your-custom-view.md)
- [ホストされている UI エクスペリエンスの構成](./hosted-ui.md)
- [装飾マーカーを使用してテキストを強調表示する](./hit-highlighting.md)
- [Web ページのページング](./page-webpages.md)