---
title: 'Azure AD Connect Sync: 技術的概念 | Microsoft Docs'
description: Azure AD Connect Sync の技術的概念について説明します。
services: active-directory
documentationcenter: ''
author: billmath
manager: mtillman
editor: ''
ms.assetid: 731cfeb3-beaf-4d02-aef4-b02a8f99fd11
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/15/2018
ms.component: hybrid
ms.author: billmath
ms.openlocfilehash: 4c7f1a0f1199daf9409f9ef3b4230e774321fe59
ms.sourcegitcommit: a06c4177068aafc8387ddcd54e3071099faf659d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/09/2018
ms.locfileid: "37918715"
---
# <a name="azure-ad-connect-sync-technical-concepts"></a>Azure AD Connect Sync: 技術的概念
この記事は、 [アーキテクチャの理解](active-directory-aadconnectsync-technical-concepts.md)に関するトピックの概要です。

Azure AD Connect Sync は、堅牢なメタディレクトリ同期プラットフォームを基盤としています。
以下のセクションでは、メタディレクトリ同期の概念を説明します。
Azure Active Directory Sync Services は、MIIS、ILM、FIM を基盤とし、データ ソースへの接続、データ ソース間でのデータの同期、ID のプロビジョニングとプロビジョニング解除のための次期型プラットフォームを提供します。

![技術的概念](./media/active-directory-aadconnectsync-technical-concepts/scenario.png)

以下のセクションでは、FIM 同期サービスの次の側面についてさらに詳しく説明します。

* コネクタ
* 属性フロー
* コネクタ スペース
* メタバース
* プロビジョニング

## <a name="connector"></a>コネクタ
接続されたディレクトリとの通信に使用されるコード モジュールをコネクタと呼びます (以前の管理エージェント (MA) に相当)。

コネクタは、Azure AD Connect Sync を実行しているコンピューターにインストールされます。コネクタを使用すると、特殊なエージェントをデプロイすることに依存せず、リモート システム プロトコルを使用することで、エージェントレスでのやり取りが可能になります。 つまり、リスクが低減され、デプロイにかかる時間が短縮されます。これは、重要なアプリケーションとシステムを扱う場合に顕著です。

上の図では、コネクタはコネクタ スペースと同じです。外部システムとのすべての通信に及んでいます。

コネクタは、システムに対するすべてのインポート機能とエクスポート機能を担うため、宣言型のプロビジョニングを使用してデータ変換をカスタマイズするときに、開発者は各システムにネイティブで接続する方法を把握する必要がなくなります。

インポートとエクスポートは、スケジュール時にのみ実行されます。接続されているデータ ソースに変更が自動的に反映されることはないため、システム内で発生する変更から分離することができます。 さらに、ほとんどすべてのデータ ソースに接続する独自のコネクタを開発することもできます。

## <a name="attribute-flow"></a>属性フロー
メタバースは、隣接するコネクタ スペースからのすべての結合された ID の統合ビューです。 上図では、属性フローの受信フローと送信フローは矢印付きの線で示されています。 属性フローとは、あるシステムのデータを別のシステムにコピーまたは転送するプロセスであり、すべての属性フロー (受信または送信) です。

属性フローは、同期 (完全または差分) 操作の実行がスケジュールされているときに、コネクタ スペースとメタバースの間で双方向に生じます。

属性フローは、これらの同期の実行時にのみ生じます。 属性フローは同期ルールで定義されます。 インバウンド (上の図の ISR) またはアウトバウンド (上の図の OSR) があります。

## <a name="connected-system"></a>接続先システム
接続先システム (接続先ディレクトリとも呼ばれます) は、Azure AD Connect Sync が接続しているリモート システムを参照し、ID データの読み取りと書き込みを行います。

## <a name="connector-space"></a>コネクタ スペース
接続された各データ ソースは、コネクタ スペース内のフィルター処理されたオブジェクトと属性のサブセットとして表されます。
これにより、同期サービスでは、オブジェクトを同期するときに、リモート システムに通信しなくてもローカルで操作を実行できるようになり、インポートとエクスポートのやり取りのみに制限します。

データ ソースとコネクタに変更の一覧を提供する機能 (差分インポート) がある場合は、直近のポーリング サイクル以降の変更のみが交換されるので、運用効率が大幅に向上します。 コネクタ スペースでは、コネクタでのインポートとエクスポートのスケジュール設定を必要とすることにより、接続されたデータ ソースに変更が自動的に反映されないようにします。 この分離機能の追加により、次回更新のテスト、プレビュー、確認時にも安心感を得られます。

## <a name="metaverse"></a>メタバース
メタバースは、隣接するコネクタ スペースからのすべての結合された ID の統合ビューです。

ID が一緒にリンクされ、インポート フローのマッピングを介してさまざまな属性に権限が割り当てられると、中央のメタバース オブジェクトでは、複数のシステムからの情報集計が始まります。 このオブジェクト属性フローから、マッピングによって送信システムに情報が伝えられます。

オブジェクトは、権限のあるシステムによってメタバースに伝えられたときに作成されます。 すべての接続が解除されるとすぐに、メタバース オブジェクトは削除されます。

メタバース内のオブジェクトを直接編集することはできません。 オブジェクト内のすべてのデータは、属性フロー経由で送信する必要があります。 メタバースは、各コネクタ スペースと共に永続的なコネクタを保持します。 永続的なコネクタは、同期が実行されるたびに再評価を実行する必要がありません。 つまり、Azure AD Connect Sync で、一致するリモート オブジェクトを毎回特定する必要がありません。 そのため、通常はオブジェクトの関連付けを行う属性の変更をエージェントが防ぐという、コストのかかる処理が不要になります。

管理対象の既存オブジェクトが含まれる可能性のある新しいデータ ソースを検出した場合、Azure AD Connect Sync では、結合ルールと呼ばれるプロセスを使用して、リンクの確立対象となる潜在的な候補を評価します。
リンクが確立すると、この評価が再び発生することはなく、リモート接続されたデータ ソースとメタバースの間に通常の属性フローが発生します。

## <a name="provisioning"></a>プロビジョニング
権限のあるソースによってメタバースに新しいオブジェクトが伝えられると、ダウンストリームの接続されたデータ ソースを表す別のコネクタに新しいコネクタ スペース オブジェクトを作成できます。

これにより、本質的にリンクが確立され、属性フローで双方向の流れが可能になります。

新しいコネクタ スペース オブジェクトを作成する必要があるとルールによって判断された場合は常に、それをプロビジョニングと呼びます。 ただし、この操作はコネクタ スペース内でのみ行われるため、エクスポートが実行されるまでは、接続されたデータ ソースに引き継がれません。

## <a name="additional-resources"></a>その他のリソース
* [Azure AD Connect Sync: 同期オプションのカスタマイズ](active-directory-aadconnectsync-whatis.md)
* [オンプレミス ID と Azure Active Directory の統合](active-directory-aadconnect.md)

<!--Image references-->
[1]: ./media/active-directory-aadsync-technical-concepts/ic750598.png
