---
title: 'Azure SQL Database の DTU ベースのリソース制限: エラスティック プール | Microsoft Docs'
description: このページでは、Azure SQL Database のエラスティック プールに対するいくつかの一般的な DTU ベースのリソース制限について説明します。
services: sql-database
author: sachinpMSFT
manager: craigg
ms.service: sql-database
ms.custom: DBs & servers
ms.topic: conceptual
ms.date: 08/01/2018
ms.author: carlrab
ms.openlocfilehash: 0920489daf99445a9d715d0858cf68ae45e6a178
ms.sourcegitcommit: 744747d828e1ab937b0d6df358127fcf6965f8c8
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/16/2018
ms.locfileid: "42144301"
---
# <a name="resources-limits-for-elastic-pools-using-the-dtu-based-purchasing-model"></a>DTU ベースの購入モデルを使用したエラスティック プールのリソース制限 

この記事では、DTU ベースの購入モデルを使用した、Azure SQL Database のエラスティック プールとプールされたデータベースに対する詳細なリソース制限について説明します。 

単一データベースに対する DTU ベースの購入モデルのリソース制限については、[単一データベースに対する DTU ベースのリソース制限](sql-database-vcore-resource-limits-elastic-pools.md)に関するページを参照してください。 [単一データベースに対する仮想コアベースのリソース制限](sql-database-vcore-resource-limits-single-databases.md)および[エラスティック プールに対する仮想コアベースのリソース制限](sql-database-vcore-resource-limits-elastic-pools.md)に関するページを参照してください。

> [!IMPORTANT]
> 場合によっては、未使用領域を再利用できるようにデータベースを縮小する必要があります。 詳細については、「[Manage file space in Azure SQL Database](sql-database-file-space-management.md)」(Azure SQL Database でファイル領域を管理する) を参照してください。

## <a name="elastic-pool-storage-sizes-and-performance-levels"></a>エラスティック プール: ストレージ サイズとパフォーマンス レベル

次の表では、SQL Database エラスティック プールについて、各サービス レベルおよびパフォーマンス レベルで使用可能なリソースを示します。 [Azure Portal](sql-database-elastic-pool-manage.md#azure-portal-manage-elastic-pools-and-pooled-databases)、[PowerShell](sql-database-elastic-pool-manage.md#powershell-manage-elastic-pools-and-pooled-databases)、[Azure CLI](sql-database-elastic-pool-manage.md#azure-cli-manage-elastic-pools-and-pooled-databases)、または [REST API](sql-database-elastic-pool-manage.md#rest-api-manage-elastic-pools-and-pooled-databases) を使って、サービス レベル、パフォーマンス レベル、ストレージ量を設定できます。

> [!NOTE]
> エラスティック プール内の個々のリソース制限は、一般的に DTU やサービス層に基づくプール外の単一のデータベースのリソース制限と同じです。 たとえば、S2 データベースの最大同時実行ワーカー数は 120 ワーカーです。 そのため、プール内の各データベースの最大 DTU が 50 DTU (S2 と同じ) の場合、Standard プール内のデータベースの最大同時実行ワーカー数も 120 ワーカーです。

### <a name="basic-elastic-pool-limits"></a>Basic エラスティック プールの制限

| プールあたりの eDTU 数 | **50** | **100** | **200** | **300** | **400** | **800** | **1200** | **1600** |
|:---|---:|---:|---:| ---: | ---: | ---: | ---: | ---: |
| プールあたりの付属ストレージ (GB) | 5 | 10 | 20 | 29 | 39 | 78 | 117 | 156 |
| プールあたりの選択可能な最大ストレージ容量 (GB) | 5 | 10 | 20 | 29 | 39 | 78 | 117 | 156 |
| プールあたりの最大インメモリ OLTP ストレージ容量 (GB) | 該当なし | 該当なし | 該当なし | 該当なし | 該当なし | 該当なし | 該当なし | 該当なし |
| プールあたりの最大 DB 数 | 100 | 200 | 500 | 500 | 500 | 500 | 500 | 500 |
| プールあたりの最大同時実行ワーカー (要求) 数 | 100 | 200 | 400 | 600 | 800 | 1600 | 2400 | 3200 |
| プールあたりの最大同時セッション数 | 30000 | 30000 | 30000 | 30000 |30000 | 30000 | 30000 | 30000 |
| データベースあたりの選択可能な最小 eDTU 数 | 0、5 | 0、5 | 0、5 | 0、5 | 0、5 | 0、5 | 0、5 | 0、5 |
| データベースあたりの選択可能な最大 eDTU 数 | 5 | 5 | 5 | 5 | 5 | 5 | 5 | 5 |
| データベースあたりの最大ストレージ (GB) | 2 | 2 | 2 | 2 | 2 | 2 | 2 | 2 | 
||||||||

### <a name="standard-elastic-pool-limits"></a>Standard エラスティック プールの制限

| プールあたりの eDTU 数 | **50** | **100** | **200** | **300** | **400** | **800**| 
|:---|---:|---:|---:| ---: | ---: | ---: | 
| プールあたりの付属ストレージ (GB) | 50 | 100 | 200 | 300 | 400 | 800 | 
| プールあたりの選択可能な最大ストレージ容量 (GB) | 50、250、500 | 100、250、500、750 | 200、250、500、750、1024 | 300、500、750、1024、1280 | 400、500、750、1024、1280、1536 | 800、1024、1280、1536、1792、2048 | 
| プールあたりの最大インメモリ OLTP ストレージ容量 (GB) | 該当なし | 該当なし | 該当なし | 該当なし | 該当なし | 該当なし | 
| プールあたりの最大 DB 数 | 100 | 200 | 500 | 500 | 500 | 500 | 
| プールあたりの最大同時実行ワーカー (要求) 数 | 100 | 200 | 400 | 600 | 800 | 1600 |
| プールあたりの最大同時セッション数 | 30000 | 30000 | 30000 | 30000 | 30000 | 30000 |
| データベースあたりの選択可能な最小 eDTU 数 | 0、10、20、50 | 0、10、20、50、100 | 0、10、20、50、100、200 | 0、10、20、50、100、200、300 | 0、10、20、50、100、200、300、400 | 0、10、20、50、100、200、300、400、800 |
| データベースあたりの選択可能な最大 eDTU 数 | 10、20、50 | 10、20、50、100 | 10、20、50、100、200 | 10、20、50、100、200、300 | 10、20、50、100、200、300、400 | 10、20、50、100、200、300、400、800 | 
| データベースあたりの最大ストレージ (GB) | 500 | 750 | 1024 | 1024 | 1024 | 1024 |
||||||||

### <a name="standard-elastic-pool-limits-continued"></a>Standard エラスティック プールの制限 (続き) 

| プールあたりの eDTU 数 | **1200** | **1600** | **2000** | **2500** | **3000** |
|:---|---:|---:|---:| ---: | ---: |
| プールあたりの付属ストレージ (GB) | 1200 | 1600 | 2000 | 2500 | 3000 | 
| プールあたりの選択可能な最大ストレージ容量 (GB) | 1200、1280、1536、1792、2048、2304、2560 | 1600、1792、2048、2304、2560、2816、3072 | 2000、2048、2304、2560、2816、3072、3328、3584 | 2500、2560、2816、3072、3328、3584、3840、4096 | 3000、3072、3328、3584、3840、4096 |
| プールあたりの最大インメモリ OLTP ストレージ容量 (GB) | 該当なし | 該当なし | 該当なし | 該当なし | 該当なし | 
| プールあたりの最大 DB 数 | 500 | 500 | 500 | 500 | 500 | 
| プールあたりの最大同時実行ワーカー (要求) 数 | 2400 | 3200 | 4000 | 5000 | 6000 |
| プールあたりの最大同時セッション数 | 30000 | 30000 | 30000 | 30000 | 30000 | 
| データベースあたりの選択可能な最小 eDTU 数 | 0、10、20、50、100、200、300、400、800、1200 | 0、10、20、50、100、200、300、400、800、1200、1600 | 0、10、20、50、100、200、300、400、800、1200、1600、2000 | 0、10、20、50、100、200、300、400、800、1200、1600、2000、2500 | 0、10、20、50、100、200、300、400、800、1200、1600、2000、2500、3000 |
| データベースあたりの選択可能な最大 eDTU 数 | 10、20、50、100、200、300、400、800、1200 | 10、20、50、100、200、300、400、800、1200、1600 | 10、20、50、100、200、300、400、800、1200、1600、2000 | 10、20、50、100、200、300、400、800、1200、1600、2000、2500 | 10、20、50、100、200、300、400、800、1200、1600、2000、2500、3000 | 
| データベースあたりの選択可能な最大ストレージ (GB) | 1024 | 1024 | 1024 | 1024 | 1024 | 
||||||||

### <a name="premium-elastic-pool-limits"></a>Premium エラスティック プールの制限

| プールあたりの eDTU 数 | **125** | **250** | **500** | **1000** | **1500**| 
|:---|---:|---:|---:| ---: | ---: | 
| プールあたりの付属ストレージ (GB) | 250 | 500 | 750 | 1024 | 1536 | 
| プールあたりの選択可能な最大ストレージ容量 (GB) | 250、500、750、1024 | 500、750、1024 | 750、1024 | 1024 | 1536 |
| プールあたりの最大インメモリ OLTP ストレージ容量 (GB) | 1 | 2 | 4 | 10 | 12 | 
| プールあたりの最大 DB 数 | 50 | 100 | 100 | 100 | 100 | 
| プールあたりの最大同時実行ワーカー (要求) 数 | 200 | 400 | 800 | 1600 | 2400 | 
| プールあたりの最大同時セッション数 | 30000 | 30000 | 30000 | 30000 | 30000 | 
| データベースあたりの最小 eDTU 数 | 0、25、50、75、125 | 0、25、50、75、125、250 | 0、25、50、75、125、250、500 | 0、25、50、75、125、250、500、1000 | 0、25、50、75、125、250、500、1000、1500 | 
| データベースあたりの最大 eDTU 数 | 25、50、75、125 | 25、50、75、125、250 | 25、50、75、125、250、500 | 25、50、75、125、250、500、1000 | 25、50、75、125、250、500、1000、1500 |
| データベースあたりの最大ストレージ (GB) | 1024 | 1024 | 1024 | 1024 | 1024 | 
||||||||

### <a name="premium-elastic-pool-limits-continued"></a>Premium エラスティック プールの制限 (続き) 

| プールあたりの eDTU 数 | **2000** | **2500** | **3000** | **3500** | **4000**|
|:---|---:|---:|---:| ---: | ---: | 
| プールあたりの付属ストレージ (GB) | 2048 | 2560 | 3072 | 3548 | 4096 |
| プールあたりの選択可能な最大ストレージ容量 (GB) | 2048 | 2560 | 3072 | 3548 | 4096|
| プールあたりの最大インメモリ OLTP ストレージ容量 (GB) | 16 | 20 | 24 | 28 | 32 |
| プールあたりの最大 DB 数 | 100 | 100 | 100 | 100 | 100 | 
| プールあたりの最大同時実行ワーカー (要求) 数 | 3200 | 4000 | 4800 | 5600 | 6400 |
| プールあたりの最大同時セッション数 | 30000 | 30000 | 30000 | 30000 | 30000 | 
| データベースあたりの選択可能な最小 eDTU 数 | 0、25、50、75、125、250、500、1000、1750 | 0、25、50、75、125、250、500、1000、1750 | 0、25、50、75、125、250、500、1000、1750 | 0、25、50、75、125、250、500、1000、1750 | 0、25、50、75、125、250、500、1000、1750、4000 | 
| データベースあたりの選択可能な最大 eDTU 数 | 25、50、75、125、250、500、1000、1750 | 25、50、75、125、250、500、1000、1750 | 25、50、75、125、250、500、1000、1750 | 25、50、75、125、250、500、1000、1750 | 25、50、75、125、250、500、1000、1750、4000 | 
| データベースあたりの最大ストレージ (GB) | 1024 | 1024 | 1024 | 1024 | 1024 | 
||||||||

> [!IMPORTANT]
> 現在、米国中西部、中国東部、US DoD 中部、ドイツ中部、US DoD 東部、US Gov 南西部、ドイツ北東部、USGov アイオワ、中国北部を除くすべてのリージョンでは、Premium レベルで 1 TB を超えるストレージを使用できます。 それ以外のリージョンでは、Premium レベルのストレージの最大容量は 1 TB です。 [P11 ～ P15 の現時点での制限](#single-database-limitations-of-p11-and-p15-when-the-maximum-size-greater-than-1-tb)に関するページを参照してください。  

エラスティック プールのすべての DTU が使用されている場合は、プール内の各データベースが、同量のリソースを受け取ってクエリを処理します。 SQL Database サービスは、コンピューティング時間を均等にすることで、データベース間におけるリソース共有の公平性を実現します。 それ以外の場合、エラスティック プールのリソース共有の公平性は、データベースあたりの DTU分が 0 以外の値に設定されているときに、リソース量に加えて各データベースに適用されることが保証されます。

### <a name="database-properties-for-pooled-databases"></a>プールされたデータベースのデータベース プロパティ

次の表では、プールされたデータベースのプロパティについて説明します。

| プロパティ | 説明 |
|:--- |:--- |
| データベースあたりの最大 eDTU 数 |プール内の他のデータベースによる使用状況に基づいて使用可能な場合にプール内の任意のデータベースが使用できる eDTU の最大数。 データベースごとの最大 eDTU は、データベースに対して保証されたリソースではありません。 これは、プール内のすべてのデータベースに適用されるグローバル設定です。 データベースのピーク使用率を処理するのに十分高いデータベースあたり最大 eDTU 数を設定します。 プールでは通常、ホットとコールドのデータベース使用パターンがあり、すべてのデータベースが同時に最大に使用されることはないため、ある程度高めに上限が設定されています。 たとえば、データベースごとの最大使用量が 20 eDTU で、プールの 100 データベースの 20% のみが同時に最大で使用されるものとします。 データベースあたりの eDTU 上限が 20 eDTU に設定されている場合は、プールを 5 倍に設定し、プールあたりの eDTU 数を 400 に設定しておいても問題はありません。 |
| データベースあたりの最小 eDTU 数 |プール内の任意のデータベースで保証される eDTU の最小数。 これは、プール内のすべてのデータベースに適用されるグローバル設定です。 データベースあたりの最小 eDTU は 0 に設定でき、これが既定値です。 このプロパティは、0 とデータベースあたりの平均 eDTU 使用率の間に設定されます。 プール内のデータベースの数とデータベースごとの最小 eDTU の積がプールごとの eDTU の値を超えることはできません。 たとえば、プールに 20 のデータベースがあり、データベースあたりの最小 eDTU を 10 に設定する場合は、プールあたりの eDTU 数を少なくとも 200 eDTU にする必要があります。 |
| データベースあたりの最大ストレージ容量 |プール内のデータベースに対してユーザーによって設定される最大データベース サイズ。 ただし、プールされるデータベースは、割り当てられたプール ストレージを共有します。 "*データベースあたりの*" 最大ストレージの合計が、利用可能な "*プールのストレージ容量*" の合計を超えるように設定されている場合でも、すべてのデータベースによって実際に使用される容量の合計が利用可能なプールの制限を超えることはありません。 最大データベース サイズとはデータ ファイルの最大サイズのことであり、ログ ファイルによって使用される領域は含まれません。 |
|||
 


## <a name="next-steps"></a>次の手順

- よく寄せられる質問の回答については、「[SQL Database に関する FAQ](sql-database-faq.md)」を参照してください。
- サーバーおよびサブスクリプション レベルの制限については詳しくは、「[Azure SQL Database のリソース制限の概要](sql-database-resource-limits.md)」をご覧ください。
- Azure の一般的な制限については、「[Azure サブスクリプションとサービスの制限、クォータ、制約](../azure-subscription-service-limits.md)」をご覧ください。
- DTU と eDTU については、「[データベース トランザクション ユニット (DTU) とエラスティック データベース トランザクション ユニット (eDTU) の説明](sql-database-service-tiers.md#what-are-database-transaction-units-dtus)」をご覧ください。
- tempdb のサイズ制限については、https://docs.microsoft.com/sql/relational-databases/databases/tempdb-database#tempdb-database-in-sql-database を参照してください。
