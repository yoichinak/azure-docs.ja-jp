---
title: Azure SQL データ同期のトラブルシューティング | Microsoft Docs
description: Azure SQL データ同期に関する一般的な問題のトラブルシューティング方法について説明します。
services: sql-database
ms.date: 07/16/2018
ms.topic: conceptual
ms.service: sql-database
author: allenwux
ms.author: xiwu
manager: craigg
ms.custom: data-sync
ms.openlocfilehash: 8ba4b32f45dd978439b08650e498c3030c618aab
ms.sourcegitcommit: 35ceadc616f09dd3c88377a7f6f4d068e23cceec
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/08/2018
ms.locfileid: "39618711"
---
# <a name="troubleshoot-issues-with-sql-data-sync"></a>SQL データ同期に関する問題のトラブルシューティング

この記事では、Azure SQL データ同期 (プレビュー) に関する既知の問題のトラブルシューティングを行う方法について説明します。問題の解決方法がある場合は、ここにその方法を示します。

SQL データ同期の概要については、[Azure SQL データ同期を使用した複数のクラウドおよびオンプレミス データベース間でのデータの同期](sql-database-sync-data.md)に関する記事を参照してください。

## <a name="sync-issues"></a>同期に関する問題

- [ポータル UI で、クライアント エージェントに関連付けられているオンプレミス データベースの同期に失敗する](#sync-fails)

- [同期グループが処理状態で停止する](#sync-stuck)

- [テーブルにエラーのあるデータが含まれる](#sync-baddata)

- [同期に成功した後に一貫性のない主キー データが表示される](#sync-pkdata)

- [パフォーマンスが大幅に低下する](#sync-perf)

- ["列 <column> に値 NULL を挿入できません。この列では NULL 値が許可されていません" というエラー メッセージが表示されました。このメッセージの意味と修正方法を教えてください。](#sync-nulls)

- [データ同期では循環参照はどのように処理されますか?つまり、同じデータが複数の同期グループで同期されるとき、その変更を結果として保持しますか?](#sync-circ)

### <a name="sync-fails"></a> ポータル UI で、クライアント エージェントに関連付けられているオンプレミス データベースの同期に失敗する

SQL データ同期のポータル UI で、クライアント エージェントに関連付けられているオンプレミス データベースの同期に失敗します。 エージェントを実行しているローカル コンピューターのイベント ログに、System.IO.IOException エラーが記録されます。 このエラーには、ディスクの空き領域が不足していると記載されています。

- **原因**。 ドライブの領域が不足しています。

- **解決策**。 %TEMP% ディレクトリがあるドライブ上の空き領域を増やします。

### <a name="sync-stuck"></a>同期グループが処理状態で停止する

SQL データ同期の同期グループが、長時間にわたり処理状態になっています。 **停止** コマンドに反応せず、ログに新しいエントリが記録されていません。

次のいずれかの条件が満たされると、同期グループが処理状態のままになることがあります。

- **原因**。 クライアント エージェントがオフラインになっています。

- **解決策**。 クライアント エージェントがオンラインになっていることを確認してから、再試行します。

- **原因**。 クライアント エージェントがアンインストールされているか、見つからない。

- **解決策**。 クライアント エージェントがアンインストールされているか、見つからない場合:

    1. SQL データ同期のインストール フォルダーにエージェント XML ファイルがある場合は、このファイルを削除します。
    1. オンプレミスのコンピューター (同じコンピューターでも別のコンピューターでもかまいません) にエージェントをインストールします。 次に、オフラインと表示されているエージェント用にポータルで生成されたエージェント キーを送信します。

- **原因**。 SQL データ同期サービスが停止しています。

- **解決策**。 SQL データ同期サービスを再起動します。

    1. **[スタート]** メニューで、**サービス**を検索します。
    1. 検索結果で、**[サービス]** を選択します。
    1. **SQL データ同期**サービスを見つけます。
    1. このサービスの状態が **[停止]** の場合は、サービス名を右クリックして **[開始]** を選択します。

> [!NOTE]
> 上記の情報で同期グループの処理状態を解除できない場合は、Microsoft サポートが同期グループの状態をリセットします。 同期グループの状態のリセットを依頼するには、[Azure SQL Database フォーラム](https://social.msdn.microsoft.com/Forums/azure/home?forum=ssdsgetstarted)に投稿してください。 この投稿には、サブスクリプション ID およびリセットが必要なグループの同期グループ ID を記載してください。 Microsoft サポート エンジニアが投稿に対応し、状態がリセットされたらその旨を連絡します。

### <a name="sync-baddata"></a> テーブルにエラーのあるデータが含まれる

同期に、名前が同じであるもののデータベース スキーマが異なるテーブルが含まれている場合、同期後のテーブルには誤ったデータが表示されます。

- **原因**。 SQL データ同期のプロビジョニング プロセスでは、スキーマが異なる一方で名前が同じであるテーブルについては、同じ追跡テーブルが使用されます。 このため、両方のテーブルの変更内容が同一の追跡テーブルに反映されます。 これにより、同期中にデータの変更が誤って行われます。

- **解決策**。 同期の対象となるテーブルについて、データベース内で別のスキーマに属している場合でも名前が異なっていることを確認してください。

### <a name="sync-pkdata"></a> 同期に成功した後に一貫性のない主キー データが表示される

同期が成功と報告され、失敗またはスキップされた行がログに示されていないにもかかわらず、同期グループ内のデータベース間で主キーのデータに不整合が発生します。

- **原因**。 この結果は仕様です。 任意の主キー列に変更が加えられると、主キーが変更された行のデータに不整合が発生します。

- **解決策**。 この問題を回避するには、主キー列のデータが変更されないようにします。 問題を発生後に解決するには、同期グループのすべてのエンドポイントから、データに不整合が発生した行を削除します。 その後、削除した行を挿入し直します。

### <a name="sync-perf"></a> パフォーマンスが大幅に低下する

パフォーマンスが大幅に低下し、データ同期 UI を起動できなくなることもあります。

- **原因**。 最も可能性の高い原因は同期ループです。 同期グループ A による同期で同期グループ B による同期がトリガーされ、さらにこの同期で同期グループ A による同期がトリガーされると、同期ループが発生します。実際の状況はさらに複雑であり、ループに同期グループが 3 つ以上含まれる場合もあります。 問題は、同期グループが互いに重複していることが原因で、同期の循環トリガーが発生することです。

- **解決策**。 最善の解決策は予防です。 同期グループに循環参照がないことを確認します。 1 つの同期グループによって同期される行を、別の同期グループによって同期することはできません。

### <a name="sync-nulls"></a> "列 <column> に値 NULL を挿入できません。 この列では NULL 値が許可されていません" というエラー メッセージが表示されました。 このメッセージの意味と修正方法を教えてください。 
このエラー メッセージは、次の 2 つの問題のいずれかを示しています。
-  テーブルに主キーが設定されていません。 この問題を解決するには、同期しているすべてのテーブルに主キーを追加します。
-  CREATE INDEX ステートメントに WHERE 句があります。 データ同期では、この状態は処理されません。 この問題を解決するには、WHERE 句を削除するか、手動ですべてのデータベースに変更を加えます。 
 
### <a name="sync-circ"></a> データ同期では循環参照はどのように処理されますか? つまり、同じデータが複数の同期グループで同期されるとき、その変更を結果として保持しますか?
データ同期は循環参照を処理しません。 必ず回避してください。 

## <a name="client-agent-issues"></a>クライアント エージェントに関する問題

- [クライアント エージェントのインストール、アンインストール、または修復に失敗する](#agent-install)

- [アンインストールを取り消した後、クライアント エージェントが動作しない](#agent-uninstall)

- [データベースがエージェントの一覧に表示されない](#agent-list)

- [クライアント エージェントが起動しない (エラー 1069)](#agent-start)

- [エージェント キーを送信できない](#agent-key)

- [関連付けられているオンプレミス データベースにアクセスできない場合、クライアント エージェントをポータルから削除できない](#agent-delete)

- [ローカル同期エージェント アプリでローカル同期サービスに接続できない](#agent-connect)

### <a name="agent-install"></a> クライアント エージェントのインストール、アンインストール、または修復に失敗する

- **原因**。 このエラーはさまざまなシナリオで発生します。 このエラーの具体的な原因を特定するには、ログを調べます。

- **解決策**。 エラーの具体的な原因を特定するには、Windows インストーラー ログを生成し、内容を確認します。 ログ記録はコマンド プロンプトから有効にすることができます。 たとえば、ダウンロードした AgentServiceSetup.msi ファイルが LocalAgentHost.msi である場合は、次のコマンド ラインを使用してログ ファイルを生成し、内容を確認します。

    -   インストールの場合: `msiexec.exe /i SQLDataSyncAgent-Preview-ENU.msi /l\*v LocalAgentSetup.InstallLog`
    -   アンインストールの場合: `msiexec.exe /x SQLDataSyncAgent-se-ENU.msi /l\*v LocalAgentSetup.InstallLog`

    Windows インストーラーによって実行されるすべてのインストールについて、ログ記録を有効にすることもできます。 Microsoft サポート技術情報の記事「[Windows インストーラーのログの記録を有効にする方法](https://support.microsoft.com/help/223300/how-to-enable-windows-installer-logging)」には、Windows インストーラーのログの記録を有効にするワンクリック ソリューションが用意されています。 また、ログの場所も示されています。

### <a name="agent-uninstall"></a> アンインストールを取り消した後、クライアント エージェントが動作しない

クライアント エージェントのアンインストールを取り消した後でも、クライアント エージェントが動作しません。

- **原因**。 この原因は、SQL データ同期クライアント エージェントに資格情報が格納されないことです。

- **解決策**。 次の 2 つの解決策を試してください。

    -   services.msc を使用してクライアント エージェントの資格情報を再入力します。
    -   今のクライアント エージェントをアンインストールした後、新規にクライアント エージェントをインストールします。 [ダウンロード センター](http://go.microsoft.com/fwlink/?linkid=221479)から最新のクライアント エージェントをダウンロードしてインストールします。

### <a name="agent-list"></a> データベースがエージェントの一覧に表示されない

既存の SQL Server データベースを同期グループに追加しようとしたときに、対象のデータベースがエージェントの一覧に表示されません。

この問題は以下のシナリオで発生します。

- **原因**。 クライアント エージェントと同期グループが異なるデータセンターにある。

- **解決策**。 クライアント エージェントと同期グループは同じデータセンターに配置する必要があります。 この設定を行うには、2 つの方法があります。

    -   同期グループが配置されているデータセンターに新しいエージェントを作成します。 次に、そのエージェントにデータベースを登録します。
    -   現在の同期グループを削除します。 次に、エージェントが配置されているデータセンターで同期グループを再作成します。

- **原因**。 クライアント エージェントのデータベースの一覧が最新ではない。

- **解決策**。 クライアント エージェント サービスをいったん停止した後、再び開始します。

    関連付けられているデータベースの一覧をローカル エージェントがダウンロードするのは、エージェント キーの最初の送信時のみです。 それ以降のエージェント キーの送信時には、関連付けられているデータベースの一覧はダウンロードされません。 したがって、エージェントの移動中に登録されたデータベースは、元のエージェント インスタンスに表示されません。

### <a name="agent-start"></a> クライアント エージェントが起動しない (エラー 1069)

SQL Server をホストしているコンピューターで、エージェントが実行されていませんでした。 エージェントを手動で起動しようとすると、"エラー 1069: ログオンに失敗したため、サービスを開始できませんでした。" というメッセージを示すダイアログ ボックスが表示されます。

![データ同期エラー 1069 のダイアログ ボックス](media/sql-database-troubleshoot-data-sync/sync-error-1069.png)

- **原因**。 このエラーの原因としては、エージェントを作成しエージェントのパスワードを指定した後でローカル サーバー上のパスワードが変更されたことが考えられます。

- **解決策**。 エージェントのパスワードを現在のサーバー パスワードに更新します。

  1. SQL データ同期クライアント エージェント サービスを見つけます。  
    a. **[開始]** を選択します。  
    b. 検索ボックスに「**services.msc**」と入力します。  
    c. 検索結果で、**[サービス]** を選択します。  
    d. **[サービス]** ウィンドウで、**[SQL Data Sync Agent]\(SQL データ同期エージェント\)** のエントリまでスクロールします。  
  1. **[SQL Data Sync Agent]\(SQL データ同期エージェント\)** を右クリックして、**[停止]** を選択します。
  1. **[SQL Data Sync Agent]\(SQL データ同期エージェント\)** を右クリックして、**[プロパティ]** を選択します。
  1. **[SQL Data Sync Agent Properties]\(SQL データ同期エージェントのプロパティ\)** ウィンドウで、**[ログイン]** タブを選択します。
  1. **[パスワード]** ボックスにパスワードを入力します。
  1. **[パスワードの確認]** ボックスにパスワードをもう一度入力します。
  1. **[Apply]\(適用\)** を選択し、次に **[OK]** を選択します。
  1. **[サービス]** ウィンドウで、**[SQL Data Sync Agent]\(SQL データ同期エージェント\)** サービスを右クリックし、**[開始]** をクリックします。
  1. **[サービス]** ウィンドウを閉じます。

### <a name="agent-key"></a> エージェント キーを送信できない

エージェントのキーを作成または再作成した後、そのキーを SqlAzureDataSyncAgent アプリケーションで送信しようとしました。 しかし、送信が完了しませんでした。

![同期エラー ダイアログ ボックス - エージェント キーを送信できない](media/sql-database-troubleshoot-data-sync/sync-error-cant-submit-agent-key.png)

- **前提条件**。 開始する前に、次の前提条件を確認しておく必要があります。

  - SQL データ同期 Windows サービスが実行されている。

  - SQL データ同期 Windows サービスのサービス アカウントがネットワークにアクセスできる。

  - 送信 1433 ポートがローカル ファイアウォール規則で開かれている。

  - ローカル IP アドレスが、同期メタデータ データベースのサーバーまたはデータベース ファイアウォール規則に追加されている。

- **原因**。 各ローカル エージェントは、エージェント キーによって一意に識別されます。 キーは次の 2 つの条件を満たす必要があります。

  -   SQL データ同期サーバーとローカル コンピューター上のクライアント エージェント キーが同一である必要があります。
  -   クライアント エージェント キーは 1 回だけ使用することができます。

- **解決策**。 エージェントが動作していない場合、これらの条件の 1 つまたは両方が満たされていないことが原因です。 再び動作するようにエージェントを設定するには、次の操作を実行します。

  1. 新しいキーを生成します。
  1. 新しいキーをエージェントに適用します。

  新しいキーをエージェントに適用するには、次の手順を実行します。

  1. エクスプローラーで、エージェントのインストール ディレクトリに移動します。 既定のインストール ディレクトリは、C:\\Program Files (x86)\\Microsoft SQL Data Sync です。
  1. bin サブディレクトリをダブルクリックします。
  1. SqlAzureDataSyncAgent アプリケーションを開きます。
  1. **[Submit Agent Key]\(エージェント キーの送信\)** を選択します。
  1. 表示されたスペースにクリップボードからキーを貼り付けます。
  1. **[OK]** を選択します。
  1. プログラムを閉じます。

### <a name="agent-delete"></a> 関連付けられているオンプレミス データベースにアクセスできない場合、クライアント エージェントをポータルから削除できない

SQL データ同期クライアント エージェントに登録されているローカル エンドポイント (つまり、データベース) にアクセスできない場合、クライアント エージェントを削除できません。

- **原因**。 アクセスできないデータベースがエージェントに登録されたままであるため、ローカル エージェントを削除することはできません。 エージェントを削除しようとすると、削除プロセスはデータベースにアクセスしようとしますが失敗します。

- **解決策**。 アクセスできないデータベースを削除するには、"強制削除" を使用します。

> [!NOTE]
> "強制削除" の後に同期メタデータ テーブルが残っている場合は、`deprovisioningutil.exe` を使用してクリーンアップします。

### <a name="agent-connect"></a> ローカル同期エージェント アプリでローカル同期サービスに接続できない

- **解決策**。 次の手順を試してみてください。

  1. アプリを終了します。  
  1. [コンポーネント サービス] パネルを開きます。  
    a. タスク バーの検索ボックスに「**services.msc**」と入力します。  
    b. 検索結果で、**[サービス]** をダブルクリックします。  
  1. **SQL データ同期**サービスを停止します。
  1. **SQL データ同期**サービスを再起動します。  
  1. アプリをもう一度開きます。

## <a name="setup-and-maintenance-issues"></a>セットアップとメンテナンスに関する問題

- ["ディスク領域不足" メッセージが表示される](#setup-space)

- [同期グループを削除できない](#setup-delete)

- [オンプレミスの SQL Server データベースの登録を解除できない](#setup-unreg)

- [システム サービスを開始するのに十分な権限がない](#setup-perms)

- [データベースの状態が "最新ではありません" になっている](#setup-date)

- [同期グループの状態が "最新ではありません" になっている](#setup-date2)

- [エージェントのアンインストール/停止後 3 分以内に同期グループを削除できない](#setup-delete2)

- [紛失または破損したデータベースを復元するとどうなりますか?](#setup-restore)

### <a name="setup-space"></a> "ディスク領域不足" メッセージが表示される

- **原因**。 "disk out of space (ディスク領域不足)" メッセージは、未処理のファイルを削除する必要がある場合に表示される可能性があります。 この原因としては、ウイルス対策ソフトウェアや、削除操作を行おうとしたときにファイルが開かれていることなどが考えられます。

- **解決策**。 %temp% フォルダーに含まれる同期ファイルを手動で削除します (`del \*sync\* /s`)。 その後、%temp% フォルダーのサブディレクトリを削除します。

> [!IMPORTANT]
> 同期の進行中はファイルを削除しないでください。

### <a name="setup-delete"></a> 同期グループを削除できない

同期グループを削除できません。 以下のシナリオのいずれかに該当する場合、同期グループの削除に失敗する可能性があります。

- **原因**。 クライアント エージェントがオフラインになっている。

- **解決策**。 クライアント エージェントがオンラインになっていることを確認してから、再試行します。

- **原因**。 クライアント エージェントがアンインストールされているか、見つからない。

- **解決策**。 クライアント エージェントがアンインストールされているか、見つからない場合:  
    a. SQL データ同期のインストール フォルダーにエージェント XML ファイルがある場合は、このファイルを削除します。  
    b. オンプレミスのコンピューター (同じコンピューターでも別のコンピューターでもかまいません) にエージェントをインストールします。 次に、オフラインと表示されているエージェント用にポータルで生成されたエージェント キーを送信します。

- **原因**。 データベースがオフラインになっている。

- **解決策**。 SQL データベースと SQL Server データベースがすべてオンラインになっていることを確認します。

- **原因**。 同期グループのプロビジョニング中または同期中である。

- **解決策**。 プロビジョニング プロセスまたは同期プロセスが完了するまで待ってから、同期グループをもう一度削除します。

### <a name="setup-unreg"></a> オンプレミスの SQL Server データベースの登録を解除できない

- **原因**。 既に削除されているデータベースの登録を解除しようとしていると考えられます。

- **解決策**。 オンプレミスの SQL Server データベースの登録を解除するには、データベースを選択し、**[Force Delete]\(強制削除\)** を選択します。

  この操作を実行しても同期グループからデータベースを削除できない場合は、次の手順を実行します。

  1. クライアント エージェント ホスト サービスをいったん停止した後、再び開始します。  
    a. **[スタート]** メニューを選択します。  
    b. 検索ボックスに「**services.msc**」と入力します。  
    c. 検索結果ウィンドウの **[プログラム]** セクションで、**[サービス]** をダブルクリックします。  
    d. **[SQL データ同期]** サービスを右クリックします。  
    e. サービスが実行中の場合は、停止します。  
    f. サービスを右クリックして、**[開始]** を選択します。  
    g. データベースがまだ登録されているかどうかを確認します。 登録が解除されている場合は、作業は終了です。 それ以外の場合は、次の手順に進みます。
  1. クライアント エージェント アプリ (SqlAzureDataSyncAgent) を開きます。
  1. **[資格情報の編集]** を選択し、データベースの資格情報を入力します。
  1. 登録の解除に進みます。

### <a name="setup-perms"></a> システム サービスを開始するのに十分な権限がない

- **原因**。 このエラーは、次の 2 つの状況で発生します。
  -   ユーザー名やパスワードが正しくない。
  -   指定されたユーザー アカウントに、サービスとしてログオンするための十分な権限がない。

- **解決策**。 "サービスとしてログオン" 資格情報をユーザー アカウントに付与します。

  1. **[スタート]** > **[コントロール パネル]** > **[管理ツール]** > **[ローカル セキュリティ ポリシー]** > **[ローカル ポリシー]** > **[User Rights Management]\(ユーザー権限の管理\)** の順に選択します。
  1. **[サービスとしてログオン]** を選択します。
  1. **[プロパティ]** ダイアログ ボックスでこのユーザー アカウントを追加します。
  1. **[Apply]\(適用\)** を選択し、次に **[OK]** を選択します。
  1. すべてのウィンドウを閉じます。

### <a name="setup-date"></a> データベースの状態が "最新ではありません" になっている

- **原因**。 SQL データ同期では、45 日以上サービスでオフライン状態となっているデータベースは除外されます (データベースがオフラインになったときからカウントされます)。 オフライン状態が 45 日以上続いていたデータベースがオンラインに戻った場合、状態は **[Out-of-Date]\(最新ではありません\)** になります。

- **解決策**。 **[Out-of-Date]\(最新ではありません\)** 状態を回避するには、データベースが 45 日以上オフラインにならないようにします。

  データベースの状態が **[Out-of-Date]\(最新ではありません\)** の場合、次の手順を実行します。

  1. 状態が **[Out-of-Date]\(最新ではありません\)** となっているデータベースを同期グループから削除します。
  1. そのデータベースを同期グループに再び追加します。

  > [!WARNING]
  > このデータベースがオフラインの間に加えた変更はすべて失われます。

### <a name="setup-date2"></a> 同期グループの状態が "最新ではありません" になっている

- **原因**。 45 日間のリテンション期間全体にわたって 1 つまたは複数の変更を適用できなかった場合、同期グループは最新とは言えない可能性があります。

- **解決策**。 同期グループの **[Out-of-Date]\(最新ではありません\)** 状態を回避するには、履歴ビューアーで同期ジョブの結果を定期的に調べます。 適用に失敗した変更を調査して解決します。

  同期グループの状態が **[Out-of-Date]\(最新ではありません\)** の場合は、同期グループを削除してから再度作成します。

### <a name="setup-delete2"></a> エージェントのアンインストール/停止後 3 分以内に同期グループを削除できない

関連付けられている SQL データ同期クライアント エージェントをアンインストールまたは停止してから 3 分以内に同期グループを削除することはできません。

- **解決策**。

  1. 関連付けられている同期エージェントがオンラインのときに同期グループを削除します (推奨)。
  1. エージェントがオフラインになっているもののインストールはされている場合は、オンプレミスのコンピューターでオンラインにします。 次に、SQL データ同期ポータルでエージェントの状態が **[オンライン]** と表示されるまで待機します。 その後、同期グループを削除します。
  1. エージェントがアンインストールされたためにオフラインになっている場合は、次の手順を実行します。  
    a.  SQL データ同期のインストール フォルダーにエージェント XML ファイルがある場合は、このファイルを削除します。  
    b.  オンプレミスのコンピューター (同じコンピューターでも別のコンピューターでもかまいません) にエージェントをインストールします。 次に、オフラインと表示されているエージェント用にポータルで生成されたエージェント キーを送信します。  
    c. 同期グループを削除します。

### <a name="setup-restore"></a> 紛失または破損したデータベースを復元するとどうなりますか?

紛失または破損したデータベースをバックアップから復元した場合、データベースが属している同期グループのデータが収束しない可能性があります。

## <a name="next-steps"></a>次の手順
SQL データ同期の詳細については、以下を参照してください。

-   [Sync data across multiple cloud and on-premises databases with Azure SQL Data Sync (Azure SQL データ同期を使用した複数のクラウドおよびオンプレミス データベースにまたがるデータの同期)](sql-database-sync-data.md)  
-   [Azure SQL データ同期のセットアップ](sql-database-get-started-sql-data-sync.md)  
-   [Azure SQL データ同期のベスト プラクティス](sql-database-best-practices-data-sync.md)  
-   [Log Analytics を使用した Azure SQL データ同期の監視](sql-database-sync-monitor-oms.md)  
-   SQL データ同期を構成する方法を示す完全な PowerShell の例  
    -   [PowerShell を使用した複数の Azure SQL データベース間の同期](scripts/sql-database-sync-data-between-sql-databases.md)  
    -   [PowerShell を使用した Azure SQL Database と SQL Server オンプレミス データベース間の同期](scripts/sql-database-sync-data-between-azure-onprem.md)  

SQL Database の詳細については、以下をご覧ください。

-   [SQL Database の概要](sql-database-technical-overview.md)
-   [データベースのライフサイクル管理](https://msdn.microsoft.com/library/jj907294.aspx)
